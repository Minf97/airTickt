(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-auth-login-login"],{"24ba":function(t,a,e){"use strict";(function(t){e("7a82"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,e("e9c4");var n=e("66ed"),i=getApp(),o={data:function(){return{username:"",password:"",code:"",loginErrorCount:0}},onLoad:function(t){},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},methods:{startLogin:function(){var a=this;if(a.password.length<1||a.username.length<1)return uni.showModal({title:"错误信息",content:"请输入用户名和密码",showCancel:!1}),!1;uni.request({url:n.ApiRootUrl+"auth/login",data:{username:a.username,password:a.password},method:"POST",header:{"content-type":"application/json"},success:function(e){t("log",e.data," at pages/auth/login/login.vue:88"),0===e.data.errno?(a.setData({loginErrorCount:0}),i.globalData.userInfo=e.data.data.userInfo,i.globalData.token=e.data.data.token,uni.setStorageSync("userInfo",JSON.stringify(e.data.data.userInfo)),uni.setStorageSync("token",e.data.data.token),uni.switchTab({url:"/pages/ucenter/index/index"})):0!==e.data.errno?uni.showModal({title:"错误信息",content:e.data.errmsg,showCancel:!1}):uni.showModal({title:"未知错误",content:e.data.errmsg,showCancel:!1})}})},bindUsernameInput:function(t){this.setData({username:t.detail.value})},bindPasswordInput:function(t){this.setData({password:t.detail.value})},bindCodeInput:function(t){this.setData({code:t.detail.value})},clearInput:function(t){switch(t.currentTarget.id){case"clear-username":this.setData({username:""});break;case"clear-password":this.setData({password:""});break;case"clear-code":this.setData({code:""});break}}}};a.default=o}).call(this,e("0de9")["log"])},"4b50":function(t,a,e){"use strict";var n=e("ef4e"),i=e.n(n);i.a},"5e6b":function(t,a,e){"use strict";e.r(a);var n=e("24ba"),i=e.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){e.d(a,t,(function(){return n[t]}))}(o);a["default"]=i.a},"8e78":function(t,a,e){var n=e("24fb");a=n(!1),a.push([t.i,".form-box[data-v-c4b2ca9e]{width:100%;height:auto;overflow:hidden;padding:0 %?40?%;margin-top:%?96?%;background:#fff}.form-item[data-v-c4b2ca9e]{position:relative;background:#fff;height:%?96?%;border-bottom:1px solid #d9d9d9}.form-item .username[data-v-c4b2ca9e],\n.form-item .password[data-v-c4b2ca9e],\n.form-item .code[data-v-c4b2ca9e]{position:absolute;top:%?26?%;left:0;display:block;width:100%;height:%?44?%;background:#fff;color:#333;font-size:%?30?%}.form-item-code[data-v-c4b2ca9e]{margin-top:%?32?%;height:auto;overflow:hidden;width:100%}.form-item-code .form-item[data-v-c4b2ca9e]{float:left;width:%?350?%}.form-item-code .code-img[data-v-c4b2ca9e]{float:right;margin-top:%?4?%;height:%?88?%;width:%?236?%}.form-item .clear[data-v-c4b2ca9e]{position:absolute;top:%?26?%;right:%?18?%;z-index:2;display:block;background:#fff;height:%?44?%;width:%?44?%}.login-btn[data-v-c4b2ca9e]{margin:%?60?% 0 %?40?% 0;height:%?96?%;line-height:%?96?%;color:#fff;font-size:%?30?%;width:100%;background:#b4282d;border-radius:%?6?%}.form-item-text[data-v-c4b2ca9e]{height:%?35?%;width:100%}.form-item-text .register[data-v-c4b2ca9e]{display:block;height:%?34?%;float:left;font-size:%?28?%;color:#999}.form-item-text .reset[data-v-c4b2ca9e]{display:block;height:%?34?%;float:right;font-size:%?28?%;color:#999}",""]),t.exports=a},"9afc":function(t,a,e){"use strict";e.d(a,"b",(function(){return n})),e.d(a,"c",(function(){return i})),e.d(a,"a",(function(){}));var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",{staticClass:"container"},[e("v-uni-view",{staticClass:"form-box"},[e("v-uni-view",{staticClass:"form-item"},[e("v-uni-input",{staticClass:"username",attrs:{value:t.username,placeholder:"账号","auto-focus":!0},on:{input:function(a){arguments[0]=a=t.$handleEvent(a),t.bindUsernameInput.apply(void 0,arguments)}}}),t.username.length>0?e("v-uni-image",{staticClass:"clear",attrs:{id:"clear-username",src:"/static/static/images/clear_input.png"},on:{click:function(a){a.stopPropagation(),a.preventDefault(),arguments[0]=a=t.$handleEvent(a),t.clearInput.apply(void 0,arguments)}}}):t._e()],1),e("v-uni-view",{staticClass:"form-item"},[e("v-uni-input",{staticClass:"password",attrs:{value:t.password,password:!0,placeholder:"密码"},on:{input:function(a){arguments[0]=a=t.$handleEvent(a),t.bindPasswordInput.apply(void 0,arguments)}}}),t.password.length>0?e("v-uni-image",{staticClass:"clear",attrs:{id:"clear-password",src:"/static/static/images/clear_input.png"},on:{click:function(a){a.stopPropagation(),a.preventDefault(),arguments[0]=a=t.$handleEvent(a),t.clearInput.apply(void 0,arguments)}}}):t._e()],1),t.loginErrorCount>=3?e("v-uni-view",{staticClass:"form-item-code"},[e("v-uni-view",{staticClass:"form-item code-item"},[e("v-uni-input",{staticClass:"code",attrs:{value:t.code,placeholder:"验证码"},on:{input:function(a){arguments[0]=a=t.$handleEvent(a),t.bindCodeInput.apply(void 0,arguments)}}}),t.code.length>0?e("v-uni-image",{staticClass:"clear",attrs:{id:"clear-code",src:"/static/static/images/clear_input.png"},on:{click:function(a){a.stopPropagation(),a.preventDefault(),arguments[0]=a=t.$handleEvent(a),t.clearInput.apply(void 0,arguments)}}}):t._e()],1),e("v-uni-image",{staticClass:"code-img",attrs:{src:"https://dl.reg.163.com/cp?pd=yanxuan_web&pkid=SkeBZeG&random=1489903563234"}})],1):t._e(),e("v-uni-button",{staticClass:"login-btn",attrs:{type:"default"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.startLogin.apply(void 0,arguments)}}},[t._v("登录")]),e("v-uni-view",{staticClass:"form-item-text"},[e("v-uni-navigator",{staticClass:"register",attrs:{url:"/pages/auth/register/register"}},[t._v("注册账号")])],1)],1)],1)},i=[]},c781:function(t,a,e){"use strict";e.r(a);var n=e("9afc"),i=e("5e6b");for(var o in i)["default"].indexOf(o)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(o);e("4b50");var s=e("f0c5"),r=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,"c4b2ca9e",null,!1,n["a"],void 0);a["default"]=r.exports},ef4e:function(t,a,e){var n=e("8e78");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=e("4f06").default;i("0a0b6ebc",n,!0,{sourceMap:!1,shadowMode:!1})}}]);