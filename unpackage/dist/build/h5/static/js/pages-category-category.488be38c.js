(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-category-category"],{"1ba2":function(t,e,i){"use strict";(function(t){i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("e25e");var a=i("2e67"),o=i("2771"),n={data:function(){return{navList:[],goodsList:[],id:0,currentCategory:{name:"",front_name:""},scrollLeft:0,scrollTop:0,scrollHeight:0,page:1,size:1e4,iindex:0,iitem:{id:"",list_pic_url:"",name:"",retail_price:""}}},onLoad:function(t){var e=this;t.id&&e.setData({id:parseInt(t.id)}),uni.getSystemInfo({success:function(t){e.setData({scrollHeight:t.windowHeight})}}),this.getCategoryInfo()},onReady:function(){},onShow:function(){t("log",1," at pages/category/category.vue:93")},onHide:function(){},onUnload:function(){},methods:{getCategoryInfo:function(){var t=this;a.request(o.GoodsCategory,{id:this.id}).then((function(e){if(0==e.errno){t.setData({navList:e.data.brotherCategory,currentCategory:e.data.currentCategory});for(var i=0,a=t.navList.length,o=0;o<a;o++)if(i+=1,t.navList[o].id==t.id)break;i>a/2&&a>5&&t.setData({scrollLeft:60*i}),t.getGoodsList()}}))},getGoodsList:function(){var t=this;a.request(o.GoodsList,{categoryId:t.id,page:t.page,size:t.size}).then((function(e){t.setData({goodsList:e.data.goodsList})}))},switchCate:function(t){if(this.id==t.currentTarget.dataset.id)return!1;var e=t.detail.x,i=t.currentTarget;e<60?this.setData({scrollLeft:i.offsetLeft-60}):e>330&&this.setData({scrollLeft:i.offsetLeft}),this.setData({id:t.currentTarget.dataset.id}),this.getCategoryInfo()}}};e.default=n}).call(this,i("0de9")["log"])},"25d7":function(t,e,i){"use strict";i.r(e);var a=i("bb90"),o=i("9113");for(var n in o)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(n);i("571b");var r=i("f0c5"),s=Object(r["a"])(o["default"],a["b"],a["c"],!1,null,"6f3bbace",null,!1,a["a"],void 0);e["default"]=s.exports},2771:function(t,e){var i="http://192.168.1.114:8360/api/";t.exports={ApiRootUrl:i,IndexUrl:i+"index/index",CatalogList:i+"catalog/index",CatalogCurrent:i+"catalog/current",AuthLoginByWeixin:i+"auth/loginByWeixin",GoodsCount:i+"goods/count",GoodsList:i+"goods/list",GoodsCategory:i+"goods/category",GoodsDetail:i+"goods/detail",GoodsNew:i+"goods/new",GoodsHot:i+"goods/hot",GoodsRelated:i+"goods/related",BrandList:i+"brand/list",BrandDetail:i+"brand/detail",CartList:i+"cart/index",CartAdd:i+"cart/add",CartUpdate:i+"cart/update",CartDelete:i+"cart/delete",CartChecked:i+"cart/checked",CartGoodsCount:i+"cart/goodscount",CartCheckout:i+"cart/checkout",OrderSubmit:i+"order/submit",PayPrepayId:i+"pay/prepay",CollectList:i+"collect/list",CollectAddOrDelete:i+"collect/addordelete",CommentList:i+"comment/list",CommentCount:i+"comment/count",CommentPost:i+"comment/post",TopicList:i+"topic/list",TopicDetail:i+"topic/detail",TopicRelated:i+"topic/related",SearchIndex:i+"search/index",SearchResult:i+"search/result",SearchHelper:i+"search/helper",SearchClearHistory:i+"search/clearhistory",AddressList:i+"address/list",AddressDetail:i+"address/detail",AddressSave:i+"address/save",AddressDelete:i+"address/delete",RegionList:i+"region/list",OrderList:i+"order/list",OrderDetail:i+"order/detail",OrderCancel:i+"order/cancel",OrderExpress:i+"order/express",FootprintList:i+"footprint/list",FootprintDelete:i+"footprint/delete"}},"2e67":function(t,e,i){(function(e){i("d81d"),i("d401"),i("d3b7"),i("25f0");var a=i("2771");function o(t){return t=t.toString(),t[1]?t:"0"+t}function n(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";return new Promise((function(c,d){uni.request({url:t,data:i,method:o,header:{"Content-Type":"application/json","X-Nideshop-Token":uni.getStorageSync("token")},success:function(t){if(e("log","success"," at utils/util.js:32"),200==t.statusCode){if(401==t.data.errno){var i=null;return r().then((function(t){return i=t.code,s()})).then((function(t){n(a.AuthLoginByWeixin,{code:i,userInfo:t},"POST").then((function(t){0===t.errno?(uni.setStorageSync("userInfo",t.data.userInfo),uni.setStorageSync("token",t.data.token),c(t)):d(t)})).catch((function(t){d(t)}))})).catch((function(t){d(t)}))}c(t.data)}else d(t.errMsg)},fail:function(t){d(t),e("log","failed"," at utils/util.js:79")}})}))}function r(){return new Promise((function(t,e){uni.login({success:function(i){i.code?t(i.code):e(i)},fail:function(t){e(t)}})}))}function s(){return new Promise((function(t,e){uni.getUserInfo({withCredentials:!0,success:function(i){"getUserInfo:ok"===i.detail.errMsg?t(i):e(i)},fail:function(t){e(t)}})}))}t.exports={formatTime:function(t){var e=t.getFullYear(),i=t.getMonth()+1,a=t.getDate(),n=t.getHours(),r=t.getMinutes(),s=t.getSeconds();return[e,i,a].map(o).join("-")+" "+[n,r,s].map(o).join(":")},request:n,get:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(t,e,"GET")},post:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(t,e,"POST")},redirect:function(t){uni.redirectTo({url:t})},showErrorToast:function(t){uni.showToast({title:t,image:"/static/static/images/icon_error.png"})},checkSession:function(){return new Promise((function(t,e){uni.checkSession({success:function(){t(!0)},fail:function(){e(!1)}})}))},login:r,getUserInfo:s}}).call(this,i("0de9")["log"])},"571b":function(t,e,i){"use strict";var a=i("9866"),o=i.n(a);o.a},9113:function(t,e,i){"use strict";i.r(e);var a=i("1ba2"),o=i.n(a);for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=o.a},9866:function(t,e,i){var a=i("9a7b");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("4f06").default;o("227514b0",a,!0,{sourceMap:!1,shadowMode:!1})},"9a7b":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".container[data-v-6f3bbace]{background:#f9f9f9}.cate-nav[data-v-6f3bbace]{position:fixed;left:0;top:0;z-index:1000}.cate-nav-body[data-v-6f3bbace]{height:%?84?%;white-space:nowrap;background:#fff;border-top:1px solid rgba(0,0,0,.15);overflow:hidden}.cate-nav .item[data-v-6f3bbace]{display:inline-block;height:%?84?%;min-width:%?130?%;padding:0 %?15?%}.cate-nav .item .name[data-v-6f3bbace]{display:block;height:%?84?%;padding:0 %?20?%;line-height:%?84?%;color:#333;font-size:%?30?%;width:auto}.cate-nav .item.active .name[data-v-6f3bbace]{color:#ab2b2b;border-bottom:2px solid #ab2b2b}.cate-item[data-v-6f3bbace]{margin-top:%?94?%;height:auto;overflow:hidden}.cate-item .h[data-v-6f3bbace]{height:%?145?%;width:%?750?%;display:flex;flex-direction:column;align-items:center;justify-content:center}.cate-item .h .name[data-v-6f3bbace]{display:block;height:%?35?%;margin-bottom:%?18?%;font-size:%?30?%;color:#333}.cate-item .h .desc[data-v-6f3bbace]{display:block;height:%?24?%;font-size:%?24?%;color:#999}.cate-item .b[data-v-6f3bbace]{width:%?750?%;padding:0 %?6.25?%;height:auto;overflow:hidden}.cate-item .b .item[data-v-6f3bbace]{float:left;background:#fff;width:%?365?%;margin-bottom:%?6.25?%;padding-bottom:%?33.333?%;height:auto;overflow:hidden;text-align:center}.cate-item .b .item-b[data-v-6f3bbace]{margin-left:%?6.25?%}.cate-item .item .img[data-v-6f3bbace]{width:%?302?%;height:%?302?%}.cate-item .item .name[data-v-6f3bbace]{display:block;width:%?365.625?%;height:%?35?%;margin:%?11.5?% 0 %?22?% 0;text-align:center;overflow:hidden;padding:0 %?20?%;font-size:%?30?%;color:#333}.cate-item .item .price[data-v-6f3bbace]{display:block;width:%?365.625?%;height:%?30?%;text-align:center;font-size:%?30?%;color:#b4282d}",""]),t.exports=e},bb90:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"container"},[i("v-uni-view",{staticClass:"cate-nav"},[i("v-uni-scroll-view",{staticClass:"cate-nav-body",staticStyle:{width:"750rpx"},attrs:{"scroll-x":!0,"scroll-left":t.scrollLeft}},t._l(t.navList,(function(e,a){return i("v-uni-view",{key:a,class:"item "+(t.id==e.id?"active":""),attrs:{"data-id":e.id,"data-index":a},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.switchCate.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"name"},[t._v(t._s(e.name))])],1)})),1)],1),i("v-uni-scroll-view",{style:"height:"+t.scrollHeight+";",attrs:{"scroll-y":!0,"scroll-top":t.scrollTop}},[i("v-uni-view",{staticClass:"cate-item"},[i("v-uni-view",{staticClass:"h"},[i("v-uni-text",{staticClass:"name"},[t._v(t._s(t.currentCategory.name))]),i("v-uni-text",{staticClass:"desc"},[t._v(t._s(t.currentCategory.front_name))])],1),i("v-uni-view",{staticClass:"b"},t._l(t.goodsList,(function(e,a){return i("v-uni-navigator",{key:a,class:"item "+((a+1)%2==0?"item-b":""),attrs:{url:"/pages/goods/goods?id="+e.id}},[i("v-uni-image",{staticClass:"img",attrs:{src:e.list_pic_url,"background-size":"cover"}}),i("v-uni-text",{staticClass:"name"},[t._v(t._s(e.name))]),i("v-uni-text",{staticClass:"price"},[t._v("ï¿¥"+t._s(e.retail_price))])],1)})),1)],1)],1)],1)},o=[]}}]);