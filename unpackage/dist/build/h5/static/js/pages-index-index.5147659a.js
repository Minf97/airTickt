(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{2771:function(t,e){var i="http://192.168.1.114:8360/api/";t.exports={ApiRootUrl:i,IndexUrl:i+"index/index",CatalogList:i+"catalog/index",CatalogCurrent:i+"catalog/current",AuthLoginByWeixin:i+"auth/loginByWeixin",GoodsCount:i+"goods/count",GoodsList:i+"goods/list",GoodsCategory:i+"goods/category",GoodsDetail:i+"goods/detail",GoodsNew:i+"goods/new",GoodsHot:i+"goods/hot",GoodsRelated:i+"goods/related",BrandList:i+"brand/list",BrandDetail:i+"brand/detail",CartList:i+"cart/index",CartAdd:i+"cart/add",CartUpdate:i+"cart/update",CartDelete:i+"cart/delete",CartChecked:i+"cart/checked",CartGoodsCount:i+"cart/goodscount",CartCheckout:i+"cart/checkout",OrderSubmit:i+"order/submit",PayPrepayId:i+"pay/prepay",CollectList:i+"collect/list",CollectAddOrDelete:i+"collect/addordelete",CommentList:i+"comment/list",CommentCount:i+"comment/count",CommentPost:i+"comment/post",TopicList:i+"topic/list",TopicDetail:i+"topic/detail",TopicRelated:i+"topic/related",SearchIndex:i+"search/index",SearchResult:i+"search/result",SearchHelper:i+"search/helper",SearchClearHistory:i+"search/clearhistory",AddressList:i+"address/list",AddressDetail:i+"address/detail",AddressSave:i+"address/save",AddressDelete:i+"address/delete",RegionList:i+"region/list",OrderList:i+"order/list",OrderDetail:i+"order/detail",OrderCancel:i+"order/cancel",OrderExpress:i+"order/express",FootprintList:i+"footprint/list",FootprintDelete:i+"footprint/delete"}},"2e67":function(t,e,i){(function(e){i("d81d"),i("d401"),i("d3b7"),i("25f0");var a=i("2771");function n(t){return t=t.toString(),t[1]?t:"0"+t}function o(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";return new Promise((function(d,c){uni.request({url:t,data:i,method:n,header:{"Content-Type":"application/json","X-Nideshop-Token":uni.getStorageSync("token")},success:function(t){if(e("log","success"," at utils/util.js:32"),200==t.statusCode){if(401==t.data.errno){var i=null;return s().then((function(t){return i=t.code,r()})).then((function(t){o(a.AuthLoginByWeixin,{code:i,userInfo:t},"POST").then((function(t){0===t.errno?(uni.setStorageSync("userInfo",t.data.userInfo),uni.setStorageSync("token",t.data.token),d(t)):c(t)})).catch((function(t){c(t)}))})).catch((function(t){c(t)}))}d(t.data)}else c(t.errMsg)},fail:function(t){c(t),e("log","failed"," at utils/util.js:79")}})}))}function s(){return new Promise((function(t,e){uni.login({success:function(i){i.code?t(i.code):e(i)},fail:function(t){e(t)}})}))}function r(){return new Promise((function(t,e){uni.getUserInfo({withCredentials:!0,success:function(i){"getUserInfo:ok"===i.detail.errMsg?t(i):e(i)},fail:function(t){e(t)}})}))}t.exports={formatTime:function(t){var e=t.getFullYear(),i=t.getMonth()+1,a=t.getDate(),o=t.getHours(),s=t.getMinutes(),r=t.getSeconds();return[e,i,a].map(n).join("-")+" "+[o,s,r].map(n).join(":")},request:o,get:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(t,e,"GET")},post:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(t,e,"POST")},redirect:function(t){uni.redirectTo({url:t})},showErrorToast:function(t){uni.showToast({title:t,image:"/static/static/images/icon_error.png"})},checkSession:function(){return new Promise((function(t,e){uni.checkSession({success:function(){t(!0)},fail:function(){e(!1)}})}))},login:s,getUserInfo:r}}).call(this,i("0de9")["log"])},7098:function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i("2e67"),n=i("2771"),o=(i("c464"),getApp(),{data:function(){return{goodsCount:0,newGoods:[],hotGoods:[],topics:[],brands:[],floorGoods:[],banner:[],channel:[],brand:"",iitem:{id:"",list_pic_url:"",name:"",retail_price:""}}},onShareAppMessage:function(){return{title:"NideShop",desc:"仿网易严选微信小程序商城",path:"/pages/index/index"}},onLoad:function(t){var e=this;this.getIndexData(),a.request(n.GoodsCount).then((function(t){e.setData({goodsCount:t.data.goodsCount})}))},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},methods:{getIndexData:function(){var t=this;a.request(n.IndexUrl).then((function(e){0===e.errno&&t.setData({newGoods:e.data.newGoodsList,hotGoods:e.data.hotGoodsList,topics:e.data.topicList,brand:e.data.brandList,floorGoods:e.data.categoryList,banner:e.data.banner,channel:e.data.channel})}))}}});e.default=o},9435:function(t,e,i){"use strict";var a=i("c57a"),n=i.n(a);n.a},b5ca:function(t,e,i){"use strict";i.r(e);var a=i("d736"),n=i("dbcb");for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("9435");var s=i("f0c5"),r=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"38185de6",null,!1,a["a"],void 0);e["default"]=r.exports},c464:function(t,e,i){i("d3b7");var a=i("2e67"),n=i("2771");t.exports={loginByWeixin:function(){var t=null;return new Promise((function(e,i){return a.login().then((function(e){return t=e.code,a.getUserInfo()})).then((function(o){a.request(n.AuthLoginByWeixin,{code:t,userInfo:o},"POST").then((function(t){0===t.errno?(uni.setStorageSync("userInfo",t.data.userInfo),uni.setStorageSync("token",t.data.token),e(t)):i(t)})).catch((function(t){i(t)}))})).catch((function(t){i(t)}))}))},checkLogin:function(){return new Promise((function(t,e){uni.getStorageSync("userInfo")&&uni.getStorageSync("token")?a.checkSession().then((function(){t(!0)})).catch((function(){e(!1)})):e(!1)}))}}},c57a:function(t,e,i){var a=i("f232");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("b9be1a6c",a,!0,{sourceMap:!1,shadowMode:!1})},d736:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"container"},[i("v-uni-view",{staticClass:"search"},[i("v-uni-navigator",{staticClass:"input",attrs:{url:"/pages/search/search"}},[i("v-uni-image",{staticClass:"icon"}),i("v-uni-text",{staticClass:"txt"},[t._v("商品搜索, 共"+t._s(t.goodsCount)+"款好物")])],1)],1),i("v-uni-swiper",{staticClass:"banner",attrs:{"indicator-dots":!0,autoplay:!0,interval:"3000",duration:"1000"}},t._l(t.banner,(function(t,e){return i("v-uni-swiper-item",{key:t.id},[i("v-uni-navigator",{attrs:{url:t.link}},[i("v-uni-image",{attrs:{src:t.image_url,"background-size":"cover",mode:"aspectFit"}})],1)],1)})),1),i("v-uni-view",{staticClass:"m-menu"},t._l(t.channel,(function(e,a){return i("v-uni-navigator",{key:e.id,staticClass:"item",attrs:{url:e.url}},[i("v-uni-image",{attrs:{src:e.icon_url,"background-size":"cover"}}),i("v-uni-text",[t._v(t._s(e.name))])],1)})),1),i("v-uni-view",{staticClass:"a-section a-brand"},[i("v-uni-view",{staticClass:"h"},[i("v-uni-navigator",{attrs:{url:"../brand/brand"}},[i("v-uni-text",{staticClass:"txt"},[t._v("品牌制造商直供")])],1)],1),i("v-uni-view",{staticClass:"b"},t._l(t.brand,(function(e,a){return i("v-uni-view",{key:e.id,staticClass:"item item-1"},[i("v-uni-navigator",{attrs:{url:"/pages/brandDetail/brandDetail?id="+e.id}},[i("v-uni-view",{staticClass:"wrap"},[i("v-uni-image",{staticClass:"img",attrs:{src:e.new_pic_url,mode:"aspectFill"}}),i("v-uni-view",{staticClass:"mt"},[i("v-uni-text",{staticClass:"brand"},[t._v(t._s(e.name))]),i("v-uni-text",{staticClass:"price"},[t._v(t._s(e.floor_price))]),i("v-uni-text",{staticClass:"unit"},[t._v("元起")])],1)],1)],1)],1)})),1)],1),t.newGoods.length>0?i("v-uni-view",{staticClass:"a-section a-new"},[i("v-uni-view",{staticClass:"h"},[i("v-uni-view",[i("v-uni-navigator",{attrs:{url:"../newGoods/newGoods"}},[i("v-uni-text",{staticClass:"txt"},[t._v("周一周四 · 新品首发")])],1)],1)],1),i("v-uni-view",{staticClass:"b"},t._l(t.newGoods,(function(e,a){return i("v-uni-view",{key:e.id,staticClass:"item"},[i("v-uni-navigator",{attrs:{url:"../goods/goods?id="+e.id}},[i("v-uni-image",{staticClass:"img",attrs:{src:e.list_pic_url,"background-size":"cover"}}),i("v-uni-text",{staticClass:"name"},[t._v(t._s(e.name))]),i("v-uni-text",{staticClass:"price"},[t._v("￥"+t._s(e.retail_price))])],1)],1)})),1)],1):t._e(),t.hotGoods.length>0?i("v-uni-view",{staticClass:"a-section a-popular"},[i("v-uni-view",{staticClass:"h"},[i("v-uni-view",[i("v-uni-navigator",{attrs:{url:"../hotGoods/hotGoods"}},[i("v-uni-text",{staticClass:"txt"},[t._v("人气推荐")])],1)],1)],1),i("v-uni-view",{staticClass:"b"},t._l(t.hotGoods,(function(e,a){return i("v-uni-view",{key:e.id,staticClass:"item"},[i("v-uni-navigator",{attrs:{url:"/pages/goods/goods?id="+e.id}},[i("v-uni-image",{staticClass:"img",attrs:{src:e.list_pic_url,"background-size":"cover"}}),i("v-uni-view",{staticClass:"right"},[i("v-uni-view",{staticClass:"text"},[i("v-uni-text",{staticClass:"name"},[t._v(t._s(e.name))]),i("v-uni-text",{staticClass:"desc"},[t._v(t._s(e.goods_brief))]),i("v-uni-text",{staticClass:"price"},[t._v("￥"+t._s(e.retail_price))])],1)],1)],1)],1)})),1)],1):t._e(),i("v-uni-view",{staticClass:"a-section a-topic"},[i("v-uni-view",{staticClass:"h"},[i("v-uni-view",[i("v-uni-navigator",{attrs:{url:"../topic/topic","open-type":"switchTab"}},[i("v-uni-text",{staticClass:"txt"},[t._v("专题精选")])],1)],1)],1),i("v-uni-view",{staticClass:"b"},[i("v-uni-scroll-view",{staticClass:"list",attrs:{"scroll-x":!0}},t._l(t.topics,(function(e,a){return i("v-uni-view",{key:e.id,staticClass:"item"},[i("v-uni-navigator",{attrs:{url:"../topicDetail/topicDetail?id="+e.id}},[i("v-uni-image",{staticClass:"img",attrs:{src:e.scene_pic_url,"background-size":"cover"}}),i("v-uni-view",{staticClass:"np"},[i("v-uni-text",{staticClass:"name"},[t._v(t._s(e.title))]),i("v-uni-text",{staticClass:"price"},[t._v("￥"+t._s(e.price_info)+"元起")])],1),i("v-uni-text",{staticClass:"desc"},[t._v(t._s(e.subtitle))])],1)],1)})),1)],1)],1),t._l(t.floorGoods,(function(e,a){return i("v-uni-view",{key:e.id,staticClass:"good-grid"},[i("v-uni-view",{staticClass:"h"},[i("v-uni-view",[i("v-uni-text",[t._v(t._s(e.name))])],1)],1),i("v-uni-view",{staticClass:"b"},[t._l(e.goodsList,(function(e,a){return[i("v-uni-navigator",{key:e.id+"_0",staticClass:"item",attrs:{url:"../goods/goods?id="+e.id}},[i("v-uni-image",{staticClass:"img",attrs:{src:e.list_pic_url,"background-size":"cover"}}),i("v-uni-view",{staticClass:"name"},[t._v(t._s(e.name))]),i("v-uni-view",{staticClass:"price"},[t._v("￥"+t._s(e.retail_price))])],1)]}))],2)],1)}))],2)},n=[]},dbcb:function(t,e,i){"use strict";i.r(e);var a=i("7098"),n=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},f232:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".search[data-v-38185de6]{height:%?88?%;width:100%;padding:0 %?30?%;background:#fff;display:flex;align-items:center}.search .input[data-v-38185de6]{width:100%;height:%?56?%;background:#ededed;border-radius:%?8?%;display:flex;align-items:center;justify-content:center}.search .icon[data-v-38185de6]{background:url(http://yanxuan.nosdn.127.net/hxm/yanxuan-wap/p/20161201/style/img/icon-normal/search2-2fb94833aa.png) 50% no-repeat;background-size:100%;width:%?28?%;height:%?28?%}.search .txt[data-v-38185de6]{height:%?42?%;line-height:%?42?%;color:#666;padding-left:%?10?%;font-size:%?30?%}.banner[data-v-38185de6]{width:%?750?%;height:%?417?%}.banner uni-image[data-v-38185de6]{width:100%;height:%?417?%}.m-menu[data-v-38185de6]{display:flex;height:%?181?%;width:%?750?%;flex-flow:row nowrap;align-items:center;justify-content:space-between;background-color:#fff}.m-menu .item[data-v-38185de6]{flex:1;display:block;padding:%?20?% 0}.m-menu uni-image[data-v-38185de6]{display:block;width:%?58?%;height:%?58?%;margin:0 auto;margin-bottom:%?12?%}.m-menu uni-text[data-v-38185de6]{display:block;font-size:%?24?%;text-align:center;margin:0 auto;line-height:1;color:#333}.a-section[data-v-38185de6]{width:%?750?%;height:auto;overflow:hidden;background:#fff;color:#333;margin-top:%?20?%}.a-section .h[data-v-38185de6]{display:flex;flex-flow:row nowrap;align-items:center;justify-content:center;height:%?130?%}.a-section .h .txt[data-v-38185de6]{padding-right:%?30?%;background:url(http://ac-3yr0g9cz.clouddn.com/2cdba05369e10f934e54.png) 100% %?4?% no-repeat;background-size:%?16.656?% %?27?%;display:inline-block;height:%?36?%;font-size:%?33?%;line-height:%?36?%}.a-brand .b[data-v-38185de6]{width:%?750?%;height:auto;overflow:hidden;position:relative}.a-brand .wrap[data-v-38185de6]{position:relative}.a-brand .img[data-v-38185de6]{position:absolute;left:0;top:0}.a-brand .mt[data-v-38185de6]{position:absolute;z-index:2;padding:%?27?% %?31?%;left:0;top:0}.a-brand .mt .brand[data-v-38185de6]{display:block;font-size:%?33?%;height:%?43?%;color:#333}.a-brand .mt .price[data-v-38185de6],\n.a-brand .mt .unit[data-v-38185de6]{font-size:%?25?%;color:#999}.a-brand .item-1[data-v-38185de6]{float:left;width:%?375?%;height:%?252?%;overflow:hidden;border-top:%?1?% solid #fff;margin-left:%?1?%}.a-brand .item-1[data-v-38185de6]:nth-child(2n + 1){margin-left:0;width:%?374?%}.a-brand .item-1 .img[data-v-38185de6]{width:%?375?%;height:%?253?%}.a-new .b[data-v-38185de6]{width:%?750?%;height:auto;overflow:hidden;padding:0 %?31?% %?45?% %?31?%}.a-new .b .item[data-v-38185de6]{float:left;width:%?302?%;margin-top:%?10?%;margin-left:%?21?%;margin-right:%?21?%}.a-new .b .item-b[data-v-38185de6]{margin-left:%?42?%}.a-new .b .img[data-v-38185de6]{width:%?302?%;height:%?302?%}.a-new .b .name[data-v-38185de6]{text-align:center;display:block;width:%?302?%;height:%?35?%;margin-bottom:%?14?%;overflow:hidden;font-size:%?30?%;color:#333}.a-new .b .price[data-v-38185de6]{display:block;text-align:center;line-height:%?30?%;font-size:%?30?%;color:#b4282d}.a-popular[data-v-38185de6]{width:%?750?%;height:auto;overflow:hidden}.a-popular .b .item[data-v-38185de6]{border-top:1px solid #d9d9d9;margin:0 %?20?%;height:%?264?%;width:%?710?%}.a-popular .b .img[data-v-38185de6]{margin-top:%?12?%;margin-right:%?12?%;float:left;width:%?240?%;height:%?240?%}.a-popular .b .right[data-v-38185de6]{float:left;height:%?264?%;width:%?456?%;display:flex;flex-flow:row nowrap}.a-popular .b .text[data-v-38185de6]{display:flex;flex-wrap:nowrap;flex-direction:column;justify-content:center;overflow:hidden;height:%?264?%;width:%?456?%}.a-popular .b .name[data-v-38185de6]{width:%?456?%;display:block;color:#333;line-height:%?50?%;font-size:%?30?%}.a-popular .b .desc[data-v-38185de6]{width:%?456?%;display:block;color:#999;line-height:%?50?%;font-size:%?25?%}.a-popular .b .price[data-v-38185de6]{width:%?456?%;display:block;color:#b4282d;line-height:%?50?%;font-size:%?33?%}.a-topic .b[data-v-38185de6]{height:%?533?%;width:%?750?%;padding:0 0 %?48?% 0}.a-topic .b .list[data-v-38185de6]{height:%?533?%;width:%?750?%;white-space:nowrap}.a-topic .b .item[data-v-38185de6]{display:inline-block;height:%?533?%;width:%?680.5?%;margin-left:%?30?%;overflow:hidden}.a-topic .b .item[data-v-38185de6]:last-child{margin-right:%?30?%}.a-topic .b .img[data-v-38185de6]{height:%?387.5?%;width:%?680.5?%;margin-bottom:%?30?%}.a-topic .b .np[data-v-38185de6]{height:%?35?%;margin-bottom:%?13.5?%;color:#333;font-size:%?30?%}.a-topic .b .np .price[data-v-38185de6]{margin-left:%?20.8?%;color:#b4282d}.a-topic .b .desc[data-v-38185de6]{display:block;height:%?30?%;color:#999;font-size:%?24?%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.good-grid[data-v-38185de6]{width:%?750?%;height:auto;overflow:hidden;background:#fff;margin-top:%?20?%}.good-grid .h[data-v-38185de6]{display:flex;flex-flow:row nowrap;align-items:center;justify-content:center;height:%?130?%;font-size:%?33?%;color:#333}.good-grid .b[data-v-38185de6]{width:%?750?%;height:auto;overflow:hidden;padding:0 %?20?%}.good-grid .b .item[data-v-38185de6]{display:block;float:left;width:%?345?%;margin-bottom:%?30?%;height:auto;overflow:hidden;text-align:center}.good-grid .b .item[data-v-38185de6]:nth-child(2n + 1){margin-right:%?20?%}.good-grid .item .img[data-v-38185de6]{width:%?345?%;height:%?345?%;background:#f8f8f8;margin-bottom:%?10?%}.good-grid .item .name[data-v-38185de6]{width:100%;overflow:hidden;height:%?40?%;line-height:%?40?%;text-align:center;font-size:%?30?%;color:#333}.good-grid .item .price[data-v-38185de6]{width:100%;height:%?46?%;line-height:%?46?%;text-align:center;font-size:%?30?%;color:#b4282d}",""]),t.exports=e}}]);