(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-hotGoods-hotGoods"],{"0289":function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a("2e67"),o=a("2771"),n=(getApp(),{data:function(){return{bannerInfo:{img_url:"",name:""},categoryFilter:!1,filterCategory:[],goodsList:[],categoryId:0,currentSortType:"default",currentSortOrder:"desc",page:1,size:1e3,cate:0,iitem:{unique:"",id:"",list_pic_url:"",name:"",retail_price:""},iindex:0}},onLoad:function(t){this.getData()},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},methods:{getData:function(){var t=this;i.request(o.GoodsHot).then((function(e){0===e.errno&&(t.setData({bannerInfo:e.data.bannerInfo}),t.getGoodsList())}))},getGoodsList:function(){var t=this;i.request(o.GoodsList,{isHot:1,page:t.page,size:t.size,order:t.currentSortOrder,sort:t.currentSortType,categoryId:t.categoryId}).then((function(e){0===e.errno&&t.setData({goodsList:e.data.goodsList,filterCategory:e.data.filterCategory})}))},openSortFilter:function(t){var e=t.currentTarget.id;switch(e){case"categoryFilter":this.setData({categoryFilter:!this.categoryFilter,currentSortType:"category",currentSortOrder:"asc"});break;case"priceSort":var a="asc";"asc"==this.currentSortOrder&&(a="desc"),this.setData({currentSortType:"price",currentSortOrder:a,categoryFilter:!1}),this.getData();break;default:this.setData({currentSortType:"default",currentSortOrder:"desc",categoryFilter:!1}),this.getData()}},selectCategory:function(t){var e=t.target.dataset.categoryIndex;this.setData({categoryFilter:!1,categoryId:this.filterCategory[e].id}),this.getData()}}});e.default=n},"02b4":function(t,e,a){var i=a("1a1c");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("4f06").default;o("0088631e",i,!0,{sourceMap:!1,shadowMode:!1})},"0db8":function(t,e,a){"use strict";a.r(e);var i=a("0289"),o=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=o.a},"1a1c":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,"uni-page-body[data-v-8409a8bc]{background:#f4f4f4}body.?%PAGE?%[data-v-8409a8bc]{background:#f4f4f4}.brand-info .name[data-v-8409a8bc]{width:100%;height:%?278?%;position:relative}.brand-info .img[data-v-8409a8bc]{position:absolute;top:0;left:0;width:100%;height:%?278?%}.brand-info .info-box[data-v-8409a8bc]{position:absolute;top:0;left:0;width:100%;height:%?278?%;text-align:center;display:flex;justify-content:center;align-items:center}.brand-info .info[data-v-8409a8bc]{display:block}.brand-info .txt[data-v-8409a8bc]{display:block;height:%?40?%;font-size:%?37.5?%;color:#fff}.brand-info .line[data-v-8409a8bc]{margin:0 auto;margin-top:%?16?%;display:block;height:%?2?%;width:%?145?%;background:#fff}.sort[data-v-8409a8bc]{position:relative;background:#fff;width:100%;height:%?78?%}.sort-box[data-v-8409a8bc]{background:#fff;width:100%;height:%?78?%;overflow:hidden;padding:0 %?30?%;display:flex;border-bottom:1px solid #d9d9d9}.sort-box .item[data-v-8409a8bc]{height:%?78?%;line-height:%?78?%;text-align:center;flex:1;color:#333;font-size:%?30?%}.sort-box .item .txt[data-v-8409a8bc]{display:block;width:100%;height:100%;color:#333}.sort-box .item.active .txt[data-v-8409a8bc]{color:#b4282d}.sort-box .item.by-price[data-v-8409a8bc]{background:url(//yanxuan.nosdn.127.net/hxm/yanxuan-wap/p/20161201/style/img/icon-normal/no-3127092a69.png) %?155?% 50% no-repeat;background-size:%?15?% %?21?%}.sort-box .item.by-price.active.asc[data-v-8409a8bc]{background:url(http://yanxuan.nosdn.127.net/hxm/yanxuan-wap/p/20161201/style/img/icon-normal/up-636b92c0a5.png) %?155?% 50% no-repeat;background-size:%?15?% %?21?%}.sort-box .item.by-price.active.desc[data-v-8409a8bc]{background:url(http://yanxuan.nosdn.127.net/hxm/yanxuan-wap/p/20161201/style/img/icon-normal/down-95e035f3e5.png) %?155?% 50% no-repeat;background-size:%?15?% %?21?%}.sort-box-category[data-v-8409a8bc]{background:#fff;width:100%;height:auto;overflow:hidden;padding:%?40?% %?40?% 0 0;border-bottom:1px solid #d9d9d9}.sort-box-category .item[data-v-8409a8bc]{height:%?54?%;line-height:%?54?%;text-align:center;float:left;padding:0 %?16?%;margin:0 0 %?40?% %?40?%;border:1px solid #666;color:#333;font-size:%?24?%}.sort-box-category .item.active[data-v-8409a8bc]{color:#b4282d;border:1px solid #b4282d}.cate-item .b[data-v-8409a8bc]{width:%?750?%;height:auto;overflow:hidden;border-top:%?1?% solid #f4f4f4;margin-top:%?20?%}.cate-item .b .item[data-v-8409a8bc]{float:left;background:#fff;width:%?375?%;padding-bottom:%?33.333?%;border-bottom:%?1?% solid #f4f4f4;height:auto;overflow:hidden;text-align:center}.cate-item .b .item-b[data-v-8409a8bc]{border-right:%?1?% solid #f4f4f4}.cate-item .item .img[data-v-8409a8bc]{margin-top:%?10?%;width:%?302?%;height:%?302?%}.cate-item .item .name[data-v-8409a8bc]{display:block;width:%?365.625?%;height:%?35?%;padding:0 %?20?%;overflow:hidden;margin:%?11.5?% 0 %?22?% 0;text-align:center;font-size:%?30?%;color:#333}.cate-item .item .price[data-v-8409a8bc]{display:block;width:%?365.625?%;height:%?30?%;text-align:center;font-size:%?30?%;color:#b4282d}",""]),t.exports=e},2771:function(t,e){var a="http://192.168.1.114:8360/api/";t.exports={ApiRootUrl:a,IndexUrl:a+"index/index",CatalogList:a+"catalog/index",CatalogCurrent:a+"catalog/current",AuthLoginByWeixin:a+"auth/loginByWeixin",GoodsCount:a+"goods/count",GoodsList:a+"goods/list",GoodsCategory:a+"goods/category",GoodsDetail:a+"goods/detail",GoodsNew:a+"goods/new",GoodsHot:a+"goods/hot",GoodsRelated:a+"goods/related",BrandList:a+"brand/list",BrandDetail:a+"brand/detail",CartList:a+"cart/index",CartAdd:a+"cart/add",CartUpdate:a+"cart/update",CartDelete:a+"cart/delete",CartChecked:a+"cart/checked",CartGoodsCount:a+"cart/goodscount",CartCheckout:a+"cart/checkout",OrderSubmit:a+"order/submit",PayPrepayId:a+"pay/prepay",CollectList:a+"collect/list",CollectAddOrDelete:a+"collect/addordelete",CommentList:a+"comment/list",CommentCount:a+"comment/count",CommentPost:a+"comment/post",TopicList:a+"topic/list",TopicDetail:a+"topic/detail",TopicRelated:a+"topic/related",SearchIndex:a+"search/index",SearchResult:a+"search/result",SearchHelper:a+"search/helper",SearchClearHistory:a+"search/clearhistory",AddressList:a+"address/list",AddressDetail:a+"address/detail",AddressSave:a+"address/save",AddressDelete:a+"address/delete",RegionList:a+"region/list",OrderList:a+"order/list",OrderDetail:a+"order/detail",OrderCancel:a+"order/cancel",OrderExpress:a+"order/express",FootprintList:a+"footprint/list",FootprintDelete:a+"footprint/delete"}},"2e67":function(t,e,a){(function(e){a("d81d"),a("d401"),a("d3b7"),a("25f0");var i=a("2771");function o(t){return t=t.toString(),t[1]?t:"0"+t}function n(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";return new Promise((function(s,d){uni.request({url:t,data:a,method:o,header:{"Content-Type":"application/json","X-Nideshop-Token":uni.getStorageSync("token")},success:function(t){if(e("log","success"," at utils/util.js:32"),200==t.statusCode){if(401==t.data.errno){var a=null;return r().then((function(t){return a=t.code,c()})).then((function(t){n(i.AuthLoginByWeixin,{code:a,userInfo:t},"POST").then((function(t){0===t.errno?(uni.setStorageSync("userInfo",t.data.userInfo),uni.setStorageSync("token",t.data.token),s(t)):d(t)})).catch((function(t){d(t)}))})).catch((function(t){d(t)}))}s(t.data)}else d(t.errMsg)},fail:function(t){d(t),e("log","failed"," at utils/util.js:79")}})}))}function r(){return new Promise((function(t,e){uni.login({success:function(a){a.code?t(a.code):e(a)},fail:function(t){e(t)}})}))}function c(){return new Promise((function(t,e){uni.getUserInfo({withCredentials:!0,success:function(a){"getUserInfo:ok"===a.detail.errMsg?t(a):e(a)},fail:function(t){e(t)}})}))}t.exports={formatTime:function(t){var e=t.getFullYear(),a=t.getMonth()+1,i=t.getDate(),n=t.getHours(),r=t.getMinutes(),c=t.getSeconds();return[e,a,i].map(o).join("-")+" "+[n,r,c].map(o).join(":")},request:n,get:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(t,e,"GET")},post:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(t,e,"POST")},redirect:function(t){uni.redirectTo({url:t})},showErrorToast:function(t){uni.showToast({title:t,image:"/static/static/images/icon_error.png"})},checkSession:function(){return new Promise((function(t,e){uni.checkSession({success:function(){t(!0)},fail:function(){e(!1)}})}))},login:r,getUserInfo:c}}).call(this,a("0de9")["log"])},8732:function(t,e,a){"use strict";a.r(e);var i=a("a46b"),o=a("0db8");for(var n in o)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return o[t]}))}(n);a("afa4");var r=a("f0c5"),c=Object(r["a"])(o["default"],i["b"],i["c"],!1,null,"8409a8bc",null,!1,i["a"],void 0);e["default"]=c.exports},a46b:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"container"},[a("v-uni-view",{staticClass:"brand-info"},[a("v-uni-view",{staticClass:"name"},[a("v-uni-image",{staticClass:"img",attrs:{src:t.bannerInfo.img_url,"background-size":"cover"}}),a("v-uni-view",{staticClass:"info-box"},[a("v-uni-view",{staticClass:"info"},[a("v-uni-text",{staticClass:"txt"},[t._v(t._s(t.bannerInfo.name))]),a("v-uni-text",{staticClass:"line"})],1)],1)],1)],1),a("v-uni-view",{staticClass:"sort"},[a("v-uni-view",{staticClass:"sort-box"},[a("v-uni-view",{class:"item "+("default"==t.currentSortType?"active":""),attrs:{id:"defaultSort"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openSortFilter.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"txt"},[t._v("综合")])],1),a("v-uni-view",{class:"item by-price "+("price"==t.currentSortType?"active":"")+" "+("asc"==t.currentSortOrder?"asc":"desc"),attrs:{id:"priceSort"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openSortFilter.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"txt"},[t._v("价格")])],1),a("v-uni-view",{class:"item "+("category"==t.currentSortType?"active":""),attrs:{id:"categoryFilter"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openSortFilter.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"txt"},[t._v("分类")])],1)],1),t.categoryFilter?a("v-uni-view",{staticClass:"sort-box-category"},t._l(t.filterCategory,(function(e,i){return a("v-uni-view",{key:t.cate-+e.id,class:"item "+(e.checked?"active":""),attrs:{"data-category-index":i},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.selectCategory.apply(void 0,arguments)}}},[t._v(t._s(e.name))])})),1):t._e()],1),a("v-uni-view",{staticClass:"cate-item"},[a("v-uni-view",{staticClass:"b"},[t._l(t.goodsList,(function(e,i){return[a("v-uni-navigator",{key:e.unique+"_0",class:"item "+(i%2==0?"item-b":""),attrs:{url:"../goods/goods?id="+e.id}},[a("v-uni-image",{staticClass:"img",attrs:{src:e.list_pic_url,"background-size":"cover"}}),a("v-uni-text",{staticClass:"name"},[t._v(t._s(e.name))]),a("v-uni-text",{staticClass:"price"},[t._v("￥"+t._s(e.retail_price))])],1)]}))],2)],1)],1)},o=[]},afa4:function(t,e,a){"use strict";var i=a("02b4"),o=a.n(i);o.a}}]);