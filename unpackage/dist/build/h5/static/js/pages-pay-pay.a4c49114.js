(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-pay-pay"],{"25f9":function(t,e,a){"use strict";a.r(e);var i=a("3d62"),n=a("a5d8");for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("cfde");var r=a("f0c5"),s=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"aa800d04",null,!1,i["a"],void 0);e["default"]=s.exports},2771:function(t,e){var a="http://192.168.1.114:8360/api/";t.exports={ApiRootUrl:a,IndexUrl:a+"index/index",CatalogList:a+"catalog/index",CatalogCurrent:a+"catalog/current",AuthLoginByWeixin:a+"auth/loginByWeixin",GoodsCount:a+"goods/count",GoodsList:a+"goods/list",GoodsCategory:a+"goods/category",GoodsDetail:a+"goods/detail",GoodsNew:a+"goods/new",GoodsHot:a+"goods/hot",GoodsRelated:a+"goods/related",BrandList:a+"brand/list",BrandDetail:a+"brand/detail",CartList:a+"cart/index",CartAdd:a+"cart/add",CartUpdate:a+"cart/update",CartDelete:a+"cart/delete",CartChecked:a+"cart/checked",CartGoodsCount:a+"cart/goodscount",CartCheckout:a+"cart/checkout",OrderSubmit:a+"order/submit",PayPrepayId:a+"pay/prepay",CollectList:a+"collect/list",CollectAddOrDelete:a+"collect/addordelete",CommentList:a+"comment/list",CommentCount:a+"comment/count",CommentPost:a+"comment/post",TopicList:a+"topic/list",TopicDetail:a+"topic/detail",TopicRelated:a+"topic/related",SearchIndex:a+"search/index",SearchResult:a+"search/result",SearchHelper:a+"search/helper",SearchClearHistory:a+"search/clearhistory",AddressList:a+"address/list",AddressDetail:a+"address/detail",AddressSave:a+"address/save",AddressDelete:a+"address/delete",RegionList:a+"region/list",OrderList:a+"order/list",OrderDetail:a+"order/detail",OrderCancel:a+"order/cancel",OrderExpress:a+"order/express",FootprintList:a+"footprint/list",FootprintDelete:a+"footprint/delete"}},"2e67":function(t,e,a){(function(e){a("d81d"),a("d401"),a("d3b7"),a("25f0");var i=a("2771");function n(t){return t=t.toString(),t[1]?t:"0"+t}function o(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";return new Promise((function(d,c){uni.request({url:t,data:a,method:n,header:{"Content-Type":"application/json","X-Nideshop-Token":uni.getStorageSync("token")},success:function(t){if(e("log","success"," at utils/util.js:32"),200==t.statusCode){if(401==t.data.errno){var a=null;return r().then((function(t){return a=t.code,s()})).then((function(t){o(i.AuthLoginByWeixin,{code:a,userInfo:t},"POST").then((function(t){0===t.errno?(uni.setStorageSync("userInfo",t.data.userInfo),uni.setStorageSync("token",t.data.token),d(t)):c(t)})).catch((function(t){c(t)}))})).catch((function(t){c(t)}))}d(t.data)}else c(t.errMsg)},fail:function(t){c(t),e("log","failed"," at utils/util.js:79")}})}))}function r(){return new Promise((function(t,e){uni.login({success:function(a){a.code?t(a.code):e(a)},fail:function(t){e(t)}})}))}function s(){return new Promise((function(t,e){uni.getUserInfo({withCredentials:!0,success:function(a){"getUserInfo:ok"===a.detail.errMsg?t(a):e(a)},fail:function(t){e(t)}})}))}t.exports={formatTime:function(t){var e=t.getFullYear(),a=t.getMonth()+1,i=t.getDate(),o=t.getHours(),r=t.getMinutes(),s=t.getSeconds();return[e,a,i].map(n).join("-")+" "+[o,r,s].map(n).join(":")},request:o,get:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(t,e,"GET")},post:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(t,e,"POST")},redirect:function(t){uni.redirectTo({url:t})},showErrorToast:function(t){uni.showToast({title:t,image:"/static/static/images/icon_error.png"})},checkSession:function(){return new Promise((function(t,e){uni.checkSession({success:function(){t(!0)},fail:function(){e(!1)}})}))},login:r,getUserInfo:s}}).call(this,a("0de9")["log"])},"3d62":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"container"},[a("v-uni-view",{staticClass:"total"},[a("v-uni-view",{staticClass:"label"},[t._v("订单金额")]),a("v-uni-view",{staticClass:"txt"},[t._v(t._s(t.actualPrice)+"元")])],1),a("v-uni-view",{staticClass:"pay-list"},[a("v-uni-view",{staticClass:"h"},[t._v("请选择支付方式")]),a("v-uni-view",{staticClass:"b"},[a("v-uni-view",{staticClass:"item"},[a("v-uni-view",{staticClass:"checkbox checked"}),a("v-uni-image",{staticClass:"icon",attrs:{src:"/static/static/images/wxpay.png"}}),a("v-uni-view",{staticClass:"name"},[t._v("微信支付")])],1)],1)],1),a("v-uni-view",{staticClass:"tips"},[t._v("小程序只支持微信支付，如需其它支付方式，请在网页版支付")]),a("v-uni-view",{staticClass:"pay-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.startPay.apply(void 0,arguments)}}},[t._v("确定")])],1)},n=[]},"5f18":function(t,e,a){"use strict";(function(t){a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("ac1f"),a("00b4");getApp();var i=a("2e67"),n=a("2771"),o={data:function(){return{orderId:0,actualPrice:0}},onLoad:function(t){this.setData({orderId:t.orderId,actualPrice:t.actualPrice})},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},methods:{isWx:function(){var t=navigator.userAgent.toLowerCase();return!!/micromessenger/.test(t)},requestPayParam:function(){var e=this;i.request(n.PayPrepayId,{orderId:e.orderId,payType:1,isWx:e.isWx()}).then((function(a){if(t("log",a," at pages/pay/pay.vue:79"),0===a.errno){var o=a.data;uni.requestPayment({timeStamp:o.timeStamp,nonceStr:o.timeStamp,package:o.nonceStr,signType:o.signType,paySign:o.paySign,success:function(t){i.request(n.PayPrepayId,{orderId:e.orderId,payType:1,isWx:e.isWx()}),uni.redirectTo({url:"/pages/payResult/payResult?status=true"})},fail:function(t){uni.redirectTo({url:"/pages/payResult/payResult?status=false"})}})}}))},startPay:function(){this.requestPayParam()}}};e.default=o}).call(this,a("0de9")["log"])},6354:function(t,e,a){var i=a("f5de");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("1762bb08",i,!0,{sourceMap:!1,shadowMode:!1})},a5d8:function(t,e,a){"use strict";a.r(e);var i=a("5f18"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},cfde:function(t,e,a){"use strict";var i=a("6354"),n=a.n(i);n.a},f5de:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,"uni-page-body[data-v-aa800d04]{min-height:100%;width:100%;background:#f4f4f4}body.?%PAGE?%[data-v-aa800d04]{background:#f4f4f4}.container[data-v-aa800d04]{padding-top:%?20?%}.total[data-v-aa800d04]{height:%?104?%;background:#fff;width:100%;line-height:%?104?%;padding-left:%?30?%;padding-right:%?30?%}.total .label[data-v-aa800d04]{float:left}.total .txt[data-v-aa800d04]{float:right}.pay-list[data-v-aa800d04]{margin-top:%?30?%;height:auto;width:100%;overflow:hidden}.pay-list .h[data-v-aa800d04]{width:100%;height:%?24?%;line-height:%?24?%;margin-left:%?31.25?%;margin-bottom:%?31.25?%}.pay-list .item[data-v-aa800d04]{height:%?108?%;padding-left:%?31.25?%;background:#fff;display:flex;align-items:center;border-bottom:1px solid #f4f4f4}.pay-list .checkbox[data-v-aa800d04]{background:url(http://yanxuan.nosdn.127.net/hxm/yanxuan-wap/p/20161201/style/img/sprites/checkbox-sed825af9d3-a6b8540d42.png) 0 %?-448?% no-repeat;background-size:%?38?% %?486?%;width:%?40?%;height:%?40?%;display:inline-block;vertical-align:middle;margin-right:%?30?%}.pay-list .checkbox.checked[data-v-aa800d04]{background:url(http://yanxuan.nosdn.127.net/hxm/yanxuan-wap/p/20161201/style/img/sprites/checkbox-sed825af9d3-a6b8540d42.png) 0 %?-192?% no-repeat;background-size:%?38?% %?486?%}.pay-list .icon-alipay[data-v-aa800d04]{display:inline-block;vertical-align:middle;background-image:url(http://yanxuan.nosdn.127.net/hxm/yanxuan-wap/p/20161201/style/img/sprites/payMethod-s3c1faebee4-d754da9c65.png);background-repeat:no-repeat;background-size:%?56.25?% %?189.583?%;margin-right:%?10.5?%;width:%?56.25?%;height:%?56.25?%}.pay-list .icon-net[data-v-aa800d04]{display:inline-block;vertical-align:middle;background:url(http://yanxuan.nosdn.127.net/hxm/yanxuan-wap/p/20161201/style/img/sprites/payMethod-s3c1faebee4-d754da9c65.png) 0 %?-66.7?% no-repeat;background-size:%?56.25?% %?189.583?%;margin-right:%?10.5?%;width:%?56.25?%;height:%?56.25?%}.pay-list .icon[data-v-aa800d04]{display:inline-block;vertical-align:middle;margin-right:%?10.5?%;width:%?56.25?%;height:%?56.25?%}.pay-list .name[data-v-aa800d04]{display:inline-block;vertical-align:middle;height:%?56.25?%;line-height:%?56.25?%}.pay-btn[data-v-aa800d04]{position:fixed;left:0;bottom:0;height:%?100?%;width:100%;text-align:center;line-height:%?100?%;background:#b4282d;color:#fff;font-size:%?30?%}.tips[data-v-aa800d04]{height:%?40?%;width:100%;font-size:%?24?%;color:#999;line-height:%?40?%;padding-left:%?30?%;padding-right:%?30?%}",""]),t.exports=e}}]);