(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-topicComment-topicComment"],{2771:function(t,e){var i="http://192.168.1.114:8360/api/";t.exports={ApiRootUrl:i,IndexUrl:i+"index/index",CatalogList:i+"catalog/index",CatalogCurrent:i+"catalog/current",AuthLoginByWeixin:i+"auth/loginByWeixin",GoodsCount:i+"goods/count",GoodsList:i+"goods/list",GoodsCategory:i+"goods/category",GoodsDetail:i+"goods/detail",GoodsNew:i+"goods/new",GoodsHot:i+"goods/hot",GoodsRelated:i+"goods/related",BrandList:i+"brand/list",BrandDetail:i+"brand/detail",CartList:i+"cart/index",CartAdd:i+"cart/add",CartUpdate:i+"cart/update",CartDelete:i+"cart/delete",CartChecked:i+"cart/checked",CartGoodsCount:i+"cart/goodscount",CartCheckout:i+"cart/checkout",OrderSubmit:i+"order/submit",PayPrepayId:i+"pay/prepay",CollectList:i+"collect/list",CollectAddOrDelete:i+"collect/addordelete",CommentList:i+"comment/list",CommentCount:i+"comment/count",CommentPost:i+"comment/post",TopicList:i+"topic/list",TopicDetail:i+"topic/detail",TopicRelated:i+"topic/related",SearchIndex:i+"search/index",SearchResult:i+"search/result",SearchHelper:i+"search/helper",SearchClearHistory:i+"search/clearhistory",AddressList:i+"address/list",AddressDetail:i+"address/detail",AddressSave:i+"address/save",AddressDelete:i+"address/delete",RegionList:i+"region/list",OrderList:i+"order/list",OrderDetail:i+"order/detail",OrderCancel:i+"order/cancel",OrderExpress:i+"order/express",FootprintList:i+"footprint/list",FootprintDelete:i+"footprint/delete"}},"2e67":function(t,e,i){(function(e){i("d81d"),i("d401"),i("d3b7"),i("25f0");var n=i("2771");function o(t){return t=t.toString(),t[1]?t:"0"+t}function a(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";return new Promise((function(c,d){uni.request({url:t,data:i,method:o,header:{"Content-Type":"application/json","X-Nideshop-Token":uni.getStorageSync("token")},success:function(t){if(e("log","success"," at utils/util.js:32"),200==t.statusCode){if(401==t.data.errno){var i=null;return s().then((function(t){return i=t.code,r()})).then((function(t){a(n.AuthLoginByWeixin,{code:i,userInfo:t},"POST").then((function(t){0===t.errno?(uni.setStorageSync("userInfo",t.data.userInfo),uni.setStorageSync("token",t.data.token),c(t)):d(t)})).catch((function(t){d(t)}))})).catch((function(t){d(t)}))}c(t.data)}else d(t.errMsg)},fail:function(t){d(t),e("log","failed"," at utils/util.js:79")}})}))}function s(){return new Promise((function(t,e){uni.login({success:function(i){i.code?t(i.code):e(i)},fail:function(t){e(t)}})}))}function r(){return new Promise((function(t,e){uni.getUserInfo({withCredentials:!0,success:function(i){"getUserInfo:ok"===i.detail.errMsg?t(i):e(i)},fail:function(t){e(t)}})}))}t.exports={formatTime:function(t){var e=t.getFullYear(),i=t.getMonth()+1,n=t.getDate(),a=t.getHours(),s=t.getMinutes(),r=t.getSeconds();return[e,i,n].map(o).join("-")+" "+[a,s,r].map(o).join(":")},request:a,get:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a(t,e,"GET")},post:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a(t,e,"POST")},redirect:function(t){uni.redirectTo({url:t})},showErrorToast:function(t){uni.showToast({title:t,image:"/static/static/images/icon_error.png"})},checkSession:function(){return new Promise((function(t,e){uni.checkSession({success:function(){t(!0)},fail:function(){e(!1)}})}))},login:s,getUserInfo:r}}).call(this,i("0de9")["log"])},"48c5":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".comments[data-v-fed15a32]{width:100%;height:auto;padding-left:%?30?%;background:#fff;margin:%?20?% 0}.comments .b[data-v-fed15a32]{height:auto;width:%?720?%}.comments .b.no-h[data-v-fed15a32]{margin-top:0}.comments .item[data-v-fed15a32]{height:auto;width:%?720?%;overflow:hidden;border-bottom:1px solid #d9d9d9;padding-bottom:%?25?%}.comments .info[data-v-fed15a32]{height:%?127?%;width:100%;padding:%?33?% 0 %?27?% 0}.comments .user[data-v-fed15a32]{float:left;width:auto;height:%?67?%;line-height:%?67?%;font-size:0}.comments .user uni-image[data-v-fed15a32]{float:left;width:%?67?%;height:%?67?%;margin-right:%?17?%;border-radius:50%}.comments .user uni-text[data-v-fed15a32]{display:inline-block;width:auto;height:%?66?%;overflow:hidden;font-size:%?29?%;line-height:%?66?%}.comments .time[data-v-fed15a32]{display:block;float:right;width:auto;height:%?67?%;line-height:%?67?%;color:#7f7f7f;font-size:%?25?%;margin-right:%?30?%}.comments .comment[data-v-fed15a32]{width:%?720?%;padding-right:%?30?%;line-height:%?45.8?%;font-size:%?29?%;margin-bottom:%?16?%}.comments .imgs[data-v-fed15a32]{width:%?720?%;height:%?150?%;margin-bottom:%?25?%}.comments .imgs .img[data-v-fed15a32]{height:%?150?%;width:%?150?%;margin-right:%?28?%}.comments .customer-service[data-v-fed15a32]{width:%?690?%;height:auto;overflow:hidden;margin-top:%?23?%;background:rgba(0,0,0,.03);padding:%?21?%}.comments .customer-service .u[data-v-fed15a32]{font-size:%?24?%;color:#333;line-height:%?37.5?%}.comments .customer-service .c[data-v-fed15a32]{font-size:%?24?%;color:#999;line-height:%?37.5?%}",""]),t.exports=e},"605f":function(t,e,i){var n=i("48c5");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("ec9747aa",n,!0,{sourceMap:!1,shadowMode:!1})},6340:function(t,e,i){"use strict";var n=i("605f"),o=i.n(n);o.a},bf14:function(t,e,i){"use strict";(function(t){i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("99af");getApp();var n=i("2e67"),o=i("2771"),a={data:function(){return{comments:[],allCommentList:[],picCommentList:[],typeId:0,valueId:0,showType:0,allCount:0,hasPicCount:0,allPage:1,picPage:1,size:20,pitem:{pic_url:"",id:""}}},onLoad:function(t){this.setData({typeId:t.typeId,valueId:t.valueId}),this.getCommentCount(),this.getCommentList()},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onReachBottom:function(){if(t("log","onPullDownRefresh"," at pages/topicComment/topicComment.vue:78"),0==this.showType){if(this.allCount/this.size<this.allPage)return!1;this.setData({allPage:this.allPage+1})}else{if(this.hasPicCount/this.size<this.picPage)return!1;this.setData({picPage:this.picPage+1})}this.getCommentList()},methods:{getCommentCount:function(){var t=this;n.request(o.CommentCount,{valueId:t.valueId,typeId:t.typeId}).then((function(e){0===e.errno&&t.setData({allCount:e.data.allCount,hasPicCount:e.data.hasPicCount})}))},getCommentList:function(){var t=this;n.request(o.CommentList,{valueId:t.valueId,typeId:t.typeId,size:t.size,page:0==t.showType?t.allPage:t.picPage,showType:t.showType}).then((function(e){0===e.errno&&(0==t.showType?t.setData({allCommentList:t.allCommentList.concat(e.data.data),allPage:e.data.currentPage,comments:t.allCommentList.concat(e.data.data)}):t.setData({picCommentList:t.picCommentList.concat(e.data.data),picPage:e.data.currentPage,comments:t.picCommentList.concat(e.data.data)}))}))},switchTab:function(){this.setData({showType:1==this.showType?0:1}),this.getCommentList()}}};e.default=a}).call(this,i("0de9")["log"])},cb29:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"comments"},[i("v-uni-view",{staticClass:"b"},t._l(t.comments,(function(e,n){return i("v-uni-view",{key:e.id,staticClass:"item"},[i("v-uni-view",{staticClass:"info"},[i("v-uni-view",{staticClass:"user"},[i("v-uni-image",{attrs:{src:e.user_info.avatar}}),i("v-uni-text",[t._v(t._s(e.user_info.nickname))])],1),i("v-uni-view",{staticClass:"time"},[t._v(t._s(e.add_time))])],1),i("v-uni-view",{staticClass:"comment"},[t._v(t._s(e.content))]),e.pic_list.length>0?i("v-uni-view",{staticClass:"imgs"},t._l(e.pic_list,(function(t,e){return i("v-uni-image",{key:t.id,staticClass:"img",attrs:{src:t.pic_url}})})),1):t._e()],1)})),1)],1)},o=[]},cd9b:function(t,e,i){"use strict";i.r(e);var n=i("cb29"),o=i("f95c");for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);i("6340");var s=i("f0c5"),r=Object(s["a"])(o["default"],n["b"],n["c"],!1,null,"fed15a32",null,!1,n["a"],void 0);e["default"]=r.exports},f95c:function(t,e,i){"use strict";i.r(e);var n=i("bf14"),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a}}]);