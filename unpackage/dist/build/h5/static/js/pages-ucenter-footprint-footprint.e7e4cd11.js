(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-ucenter-footprint-footprint"],{"19dc":function(t,e,o){var i=o("24fb");e=i(!1),e.push([t.i,"uni-page-body[data-v-6c19db45]{background:#f4f4f4;min-height:100%}body.?%PAGE?%[data-v-6c19db45]{background:#f4f4f4}.container[data-v-6c19db45]{background:#f4f4f4;min-height:100%}.footprint[data-v-6c19db45]{height:auto;overflow:hidden;width:100%;border-top:1px solid #e1e1e1}.day-item[data-v-6c19db45]{height:auto;overflow:hidden;width:100%;margin-bottom:%?20?%}.day-hd[data-v-6c19db45]{height:%?94?%;width:100%;line-height:%?94?%;background:#fff;padding-left:%?30?%;color:#333;font-size:%?28?%}.day-list[data-v-6c19db45]{width:100%;height:auto;overflow:hidden;background:#fff;padding-left:%?30?%;border-top:1px solid #e1e1e1}.item[data-v-6c19db45]{height:%?212?%;width:%?720?%;background:#fff;padding:%?30?% %?30?% %?30?% 0;border-bottom:1px solid #e1e1e1}.item[data-v-6c19db45]:last-child{border-bottom:1px solid #fff}.item .img[data-v-6c19db45]{float:left;width:%?150?%;height:%?150?%}.item .info[data-v-6c19db45]{float:right;width:%?540?%;height:%?150?%;display:flex;flex-direction:column;justify-content:center;padding-left:%?20?%}.item .info .name[data-v-6c19db45]{font-size:%?28?%;color:#333;line-height:%?40?%}.item .info .subtitle[data-v-6c19db45]{margin-top:%?8?%;font-size:%?24?%;color:#888;line-height:%?40?%}.item .info .price[data-v-6c19db45]{margin-top:%?8?%;font-size:%?28?%;color:#333;line-height:%?40?%}",""]),t.exports=e},2771:function(t,e){var o="http://192.168.1.114:8360/api/";t.exports={ApiRootUrl:o,IndexUrl:o+"index/index",CatalogList:o+"catalog/index",CatalogCurrent:o+"catalog/current",AuthLoginByWeixin:o+"auth/loginByWeixin",GoodsCount:o+"goods/count",GoodsList:o+"goods/list",GoodsCategory:o+"goods/category",GoodsDetail:o+"goods/detail",GoodsNew:o+"goods/new",GoodsHot:o+"goods/hot",GoodsRelated:o+"goods/related",BrandList:o+"brand/list",BrandDetail:o+"brand/detail",CartList:o+"cart/index",CartAdd:o+"cart/add",CartUpdate:o+"cart/update",CartDelete:o+"cart/delete",CartChecked:o+"cart/checked",CartGoodsCount:o+"cart/goodscount",CartCheckout:o+"cart/checkout",OrderSubmit:o+"order/submit",PayPrepayId:o+"pay/prepay",CollectList:o+"collect/list",CollectAddOrDelete:o+"collect/addordelete",CommentList:o+"comment/list",CommentCount:o+"comment/count",CommentPost:o+"comment/post",TopicList:o+"topic/list",TopicDetail:o+"topic/detail",TopicRelated:o+"topic/related",SearchIndex:o+"search/index",SearchResult:o+"search/result",SearchHelper:o+"search/helper",SearchClearHistory:o+"search/clearhistory",AddressList:o+"address/list",AddressDetail:o+"address/detail",AddressSave:o+"address/save",AddressDelete:o+"address/delete",RegionList:o+"region/list",OrderList:o+"order/list",OrderDetail:o+"order/detail",OrderCancel:o+"order/cancel",OrderExpress:o+"order/express",FootprintList:o+"footprint/list",FootprintDelete:o+"footprint/delete"}},"2e67":function(t,e,o){(function(e){o("d81d"),o("d401"),o("d3b7"),o("25f0");var i=o("2771");function n(t){return t=t.toString(),t[1]?t:"0"+t}function a(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";return new Promise((function(s,c){uni.request({url:t,data:o,method:n,header:{"Content-Type":"application/json","X-Nideshop-Token":uni.getStorageSync("token")},success:function(t){if(e("log","success"," at utils/util.js:32"),200==t.statusCode){if(401==t.data.errno){var o=null;return r().then((function(t){return o=t.code,d()})).then((function(t){a(i.AuthLoginByWeixin,{code:o,userInfo:t},"POST").then((function(t){0===t.errno?(uni.setStorageSync("userInfo",t.data.userInfo),uni.setStorageSync("token",t.data.token),s(t)):c(t)})).catch((function(t){c(t)}))})).catch((function(t){c(t)}))}s(t.data)}else c(t.errMsg)},fail:function(t){c(t),e("log","failed"," at utils/util.js:79")}})}))}function r(){return new Promise((function(t,e){uni.login({success:function(o){o.code?t(o.code):e(o)},fail:function(t){e(t)}})}))}function d(){return new Promise((function(t,e){uni.getUserInfo({withCredentials:!0,success:function(o){"getUserInfo:ok"===o.detail.errMsg?t(o):e(o)},fail:function(t){e(t)}})}))}t.exports={formatTime:function(t){var e=t.getFullYear(),o=t.getMonth()+1,i=t.getDate(),a=t.getHours(),r=t.getMinutes(),d=t.getSeconds();return[e,o,i].map(n).join("-")+" "+[a,r,d].map(n).join(":")},request:a,get:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a(t,e,"GET")},post:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a(t,e,"POST")},redirect:function(t){uni.redirectTo({url:t})},showErrorToast:function(t){uni.showToast({title:t,image:"/static/static/images/icon_error.png"})},checkSession:function(){return new Promise((function(t,e){uni.checkSession({success:function(){t(!0)},fail:function(){e(!1)}})}))},login:r,getUserInfo:d}}).call(this,o("0de9")["log"])},"40ed":function(t,e,o){"use strict";o.d(e,"b",(function(){return i})),o.d(e,"c",(function(){return n})),o.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-uni-view",{staticClass:"container"},[o("v-uni-view",{staticClass:"footprint"},t._l(t.footprintList,(function(e,i){return o("v-uni-view",{key:i,staticClass:"day-item"},[o("v-uni-view",{staticClass:"day-hd"},[t._v(t._s(e[0].add_time))]),o("v-uni-view",{staticClass:"day-list"},t._l(e,(function(e,i){return o("v-uni-view",{key:e.id,staticClass:"item",attrs:{"data-footprint":e},on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.touchStart.apply(void 0,arguments)},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.touchEnd.apply(void 0,arguments)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.deleteItem.apply(void 0,arguments)}}},[o("v-uni-image",{staticClass:"img",attrs:{src:e.list_pic_url}}),o("v-uni-view",{staticClass:"info"},[o("v-uni-view",{staticClass:"name"},[t._v(t._s(e.name))]),o("v-uni-view",{staticClass:"subtitle"},[t._v(t._s(e.goods_brief))]),o("v-uni-view",{staticClass:"price"},[t._v("￥"+t._s(e.retail_price))])],1)],1)})),1)],1)})),1)],1)},n=[]},"4b54":function(t,e,o){"use strict";var i=o("adb3"),n=o.n(i);n.a},5496:function(t,e,o){"use strict";o.r(e);var i=o("40ed"),n=o("6e80");for(var a in n)["default"].indexOf(a)<0&&function(t){o.d(e,t,(function(){return n[t]}))}(a);o("4b54");var r=o("f0c5"),d=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"6c19db45",null,!1,i["a"],void 0);e["default"]=d.exports},"6e80":function(t,e,o){"use strict";o.r(e);var i=o("da83"),n=o.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){o.d(e,t,(function(){return i[t]}))}(a);e["default"]=n.a},adb3:function(t,e,o){var i=o("19dc");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=o("4f06").default;n("67218932",i,!0,{sourceMap:!1,shadowMode:!1})},da83:function(t,e,o){"use strict";(function(t){o("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o("2e67"),n=o("2771"),a=(getApp(),{data:function(){return{footprintList:[],touch_start:"",touch_end:"",iitem:{id:"",list_pic_url:"",name:"",goods_brief:"",retail_price:""}}},onLoad:function(t){this.getFootprintList()},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},methods:{getFootprintList:function(){var e=this;i.request(n.FootprintList).then((function(o){0===o.errno&&(t("log",o.data," at pages/ucenter/footprint/footprint.vue:61"),e.setData({footprintList:o.data.data}))}))},deleteItem:function(e){var o=this,a=e.currentTarget.dataset.footprint,r=o.touch_end-o.touch_start;t("log",r," at pages/ucenter/footprint/footprint.vue:73"),r>350?uni.showModal({title:"",content:"要删除所选足迹？",success:function(e){e.confirm&&(i.request(n.FootprintDelete,{footprintId:a.id},"POST").then((function(t){0===t.errno&&(uni.showToast({title:"删除成功",icon:"success",duration:2e3}),o.getFootprintList())})),t("log","用户点击确定"," at pages/ucenter/footprint/footprint.vue:97"))}}):uni.navigateTo({url:"/pages/goods/goods?id="+a.goods_id})},touchStart:function(e){this.setData({touch_start:e.timeStamp}),t("log",e.timeStamp+"- touch-start"," at pages/ucenter/footprint/footprint.vue:114")},touchEnd:function(e){this.setData({touch_end:e.timeStamp}),t("log",e.timeStamp+"- touch-end"," at pages/ucenter/footprint/footprint.vue:123")}}});e.default=a}).call(this,o("0de9")["log"])}}]);