(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-ucenter-address-address"],{"18c4":function(t,e,i){"use strict";var n=i("5cf0"),s=i.n(n);s.a},2771:function(t,e){var i="http://192.168.1.114:8360/api/";t.exports={ApiRootUrl:i,IndexUrl:i+"index/index",CatalogList:i+"catalog/index",CatalogCurrent:i+"catalog/current",AuthLoginByWeixin:i+"auth/loginByWeixin",GoodsCount:i+"goods/count",GoodsList:i+"goods/list",GoodsCategory:i+"goods/category",GoodsDetail:i+"goods/detail",GoodsNew:i+"goods/new",GoodsHot:i+"goods/hot",GoodsRelated:i+"goods/related",BrandList:i+"brand/list",BrandDetail:i+"brand/detail",CartList:i+"cart/index",CartAdd:i+"cart/add",CartUpdate:i+"cart/update",CartDelete:i+"cart/delete",CartChecked:i+"cart/checked",CartGoodsCount:i+"cart/goodscount",CartCheckout:i+"cart/checkout",OrderSubmit:i+"order/submit",PayPrepayId:i+"pay/prepay",CollectList:i+"collect/list",CollectAddOrDelete:i+"collect/addordelete",CommentList:i+"comment/list",CommentCount:i+"comment/count",CommentPost:i+"comment/post",TopicList:i+"topic/list",TopicDetail:i+"topic/detail",TopicRelated:i+"topic/related",SearchIndex:i+"search/index",SearchResult:i+"search/result",SearchHelper:i+"search/helper",SearchClearHistory:i+"search/clearhistory",AddressList:i+"address/list",AddressDetail:i+"address/detail",AddressSave:i+"address/save",AddressDelete:i+"address/delete",RegionList:i+"region/list",OrderList:i+"order/list",OrderDetail:i+"order/detail",OrderCancel:i+"order/cancel",OrderExpress:i+"order/express",FootprintList:i+"footprint/list",FootprintDelete:i+"footprint/delete"}},"2e67":function(t,e,i){(function(e){i("d81d"),i("d401"),i("d3b7"),i("25f0");var n=i("2771");function s(t){return t=t.toString(),t[1]?t:"0"+t}function a(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";return new Promise((function(r,c){uni.request({url:t,data:i,method:s,header:{"Content-Type":"application/json","X-Nideshop-Token":uni.getStorageSync("token")},success:function(t){if(e("log","success"," at utils/util.js:32"),200==t.statusCode){if(401==t.data.errno){var i=null;return d().then((function(t){return i=t.code,o()})).then((function(t){a(n.AuthLoginByWeixin,{code:i,userInfo:t},"POST").then((function(t){0===t.errno?(uni.setStorageSync("userInfo",t.data.userInfo),uni.setStorageSync("token",t.data.token),r(t)):c(t)})).catch((function(t){c(t)}))})).catch((function(t){c(t)}))}r(t.data)}else c(t.errMsg)},fail:function(t){c(t),e("log","failed"," at utils/util.js:79")}})}))}function d(){return new Promise((function(t,e){uni.login({success:function(i){i.code?t(i.code):e(i)},fail:function(t){e(t)}})}))}function o(){return new Promise((function(t,e){uni.getUserInfo({withCredentials:!0,success:function(i){"getUserInfo:ok"===i.detail.errMsg?t(i):e(i)},fail:function(t){e(t)}})}))}t.exports={formatTime:function(t){var e=t.getFullYear(),i=t.getMonth()+1,n=t.getDate(),a=t.getHours(),d=t.getMinutes(),o=t.getSeconds();return[e,i,n].map(s).join("-")+" "+[a,d,o].map(s).join(":")},request:a,get:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a(t,e,"GET")},post:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a(t,e,"POST")},redirect:function(t){uni.redirectTo({url:t})},showErrorToast:function(t){uni.showToast({title:t,image:"/static/static/images/icon_error.png"})},checkSession:function(){return new Promise((function(t,e){uni.checkSession({success:function(){t(!0)},fail:function(){e(!1)}})}))},login:d,getUserInfo:o}}).call(this,i("0de9")["log"])},"36c6":function(t,e,i){"use strict";i.r(e);var n=i("4466"),s=i("a0cb");for(var a in s)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return s[t]}))}(a);i("18c4");var d=i("f0c5"),o=Object(d["a"])(s["default"],n["b"],n["c"],!1,null,"4b4f6122",null,!1,n["a"],void 0);e["default"]=o.exports},4466:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"container"},[t.addressList.length>0?i("v-uni-view",{staticClass:"address-list"},t._l(t.addressList,(function(e,n){return i("v-uni-view",{key:e.id,staticClass:"item",attrs:{"data-address-id":e.id},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.addressAddOrUpdate.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"l"},[i("v-uni-view",{staticClass:"name"},[t._v(t._s(e.name))]),e.is_default?i("v-uni-view",{staticClass:"default"},[t._v("默认")]):t._e()],1),i("v-uni-view",{staticClass:"c"},[i("v-uni-view",{staticClass:"mobile"},[t._v(t._s(e.mobile))]),i("v-uni-view",{staticClass:"address"},[t._v(t._s(e.full_region+e.address))])],1),i("v-uni-view",{staticClass:"r"},[i("v-uni-image",{staticClass:"del",attrs:{"data-address-id":e.id,src:"/static/static/images/del-address.png"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.deleteAddress.apply(void 0,arguments)}}})],1)],1)})),1):t._e(),t.addressList.length<=0?i("v-uni-view",{staticClass:"empty-view"},[i("v-uni-image",{staticClass:"icon",attrs:{src:"http://yanxuan.nosdn.127.net/hxm/yanxuan-wap/p/20161201/style/img/icon-normal/noAddress-26d570cefa.png"}}),i("v-uni-text",{staticClass:"text"},[t._v("收货地址在哪里")])],1):t._e(),i("v-uni-view",{staticClass:"add-address",attrs:{"data-address-id":"0"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.addressAddOrUpdate.apply(void 0,arguments)}}},[t._v("新建")])],1)},s=[]},"5cf0":function(t,e,i){var n=i("d33b");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var s=i("4f06").default;s("5b9aadc2",n,!0,{sourceMap:!1,shadowMode:!1})},a0cb:function(t,e,i){"use strict";i.r(e);var n=i("fd18"),s=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},d33b:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"uni-page-body[data-v-4b4f6122]{height:100%;width:100%;background:#f4f4f4}body.?%PAGE?%[data-v-4b4f6122]{background:#f4f4f4}.container[data-v-4b4f6122]{height:100%;width:100%}.address-list[data-v-4b4f6122]{padding-left:%?31.25?%;background:#fff url(http://yanxuan.nosdn.127.net/hxm/yanxuan-wap/p/20161201/style/img/icon-normal/address-bg-bd30f2bfeb.png) 0 0 repeat-x;background-size:auto %?10.5?%;margin-bottom:%?90?%}.address-list .item[data-v-4b4f6122]{height:%?156.55?%;align-items:center;display:flex;border-bottom:%?1?% solid #dcd9d9}.address-list .l[data-v-4b4f6122]{width:%?125?%;height:%?80?%;overflow:hidden}.address-list .name[data-v-4b4f6122]{width:%?125?%;height:%?43?%;font-size:%?29?%;color:#333;margin-bottom:%?5.2?%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.address-list .default[data-v-4b4f6122]{width:%?62.5?%;height:%?33?%;line-height:%?28?%;text-align:center;font-size:%?20?%;color:#b4282d;border:%?1?% solid #b4282d;visibility:visible}.address-list .c[data-v-4b4f6122]{flex:1;height:auto;overflow:hidden}.address-list .mobile[data-v-4b4f6122]{height:%?29?%;font-size:%?29?%;line-height:%?29?%;overflow:hidden;color:#333;margin-bottom:%?6.25?%}.address-list .address[data-v-4b4f6122]{height:%?37?%;font-size:%?25?%;line-height:%?37?%;overflow:hidden;color:#666}.address-list .r[data-v-4b4f6122]{width:%?52?%;height:auto;overflow:hidden;margin-right:%?16.5?%}.address-list .del[data-v-4b4f6122]{display:block;width:%?52?%;height:%?52?%}.add-address[data-v-4b4f6122]{background:#b4282d;text-align:center;width:100%;height:%?99?%;line-height:%?99?%;position:fixed;border-radius:0;border:none;color:#fff;font-size:%?29?%;bottom:0;left:0}.empty-view[data-v-4b4f6122]{height:100%;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}.empty-view .icon[data-v-4b4f6122]{height:%?248?%;width:%?258?%;margin-bottom:%?10?%}.empty-view .text[data-v-4b4f6122]{width:auto;font-size:%?28?%;line-height:%?35?%;color:#999}",""]),t.exports=e},fd18:function(t,e,i){"use strict";(function(t){i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i("2e67"),s=i("2771"),a=(getApp(),{data:function(){return{addressList:[]}},onLoad:function(t){this.getAddressList()},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},methods:{getAddressList:function(){var t=this;n.request(s.AddressList).then((function(e){0===e.errno&&t.setData({addressList:e.data})}))},addressAddOrUpdate:function(e){t("log",e," at pages/ucenter/address/address.vue:69"),uni.navigateTo({url:"/pages/ucenter/addressAdd/addressAdd?id="+e.currentTarget.dataset.addressId})},deleteAddress:function(e){t("log",e.target," at pages/ucenter/address/address.vue:76");var i=this;return uni.showModal({title:"",content:"确定要删除地址？",success:function(a){if(a.confirm){var d=e.target.dataset.addressId;n.request(s.AddressDelete,{id:d},"POST").then((function(t){0===t.errno&&i.getAddressList()})),t("log","用户点击确定"," at pages/ucenter/address/address.vue:95")}}}),!1}}});e.default=a}).call(this,i("0de9")["log"])}}]);