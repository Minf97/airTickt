(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-shopping-checkout-checkout"],{"041c":function(t,e,a){"use strict";(function(t){a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("ac1f"),a("00b4"),a("e25e");var i=a("2e67"),o=a("2771"),d=a("d080"),s=(getApp(),{data:function(){return{checkedGoodsList:[],checkedAddress:{id:0,name:"",is_default:0,mobile:"",full_region:"",address:""},checkedCoupon:[],couponList:[],goodsTotalPrice:0,freightPrice:0,couponPrice:0,orderTotalPrice:0,actualPrice:0,addressId:0,couponId:0}},onLoad:function(t){try{var e=uni.getStorageSync("addressId");e&&this.setData({addressId:e});var a=uni.getStorageSync("couponId");a&&this.setData({couponId:a})}catch(i){}},onReady:function(){},onShow:function(){uni.showLoading({title:"加载中..."}),this.getCheckoutInfo()},onHide:function(){},onUnload:function(){},methods:{getCheckoutInfo:function(){var e=this;i.request(o.CartCheckout,{addressId:e.addressId,couponId:e.couponId}).then((function(a){0===a.errno&&(t("log",a.data," at pages/shopping/checkout/checkout.vue:170"),e.setData({checkedGoodsList:a.data.checkedGoodsList,checkedAddress:a.data.checkedAddress,actualPrice:a.data.actualPrice,checkedCoupon:a.data.checkedCoupon,couponList:a.data.couponList,couponPrice:a.data.couponPrice,freightPrice:a.data.freightPrice,goodsTotalPrice:a.data.goodsTotalPrice,orderTotalPrice:a.data.orderTotalPrice})),uni.hideLoading()}))},selectAddress:function(){uni.navigateTo({url:"/pages/shopping/address/address"})},addAddress:function(){uni.navigateTo({url:"/pages/shopping/addressAdd/addressAdd"})},isWx:function(){var t=navigator.userAgent.toLowerCase();return!!/micromessenger/.test(t)},submitOrder:function(){if(this.addressId<=0)return i.showErrorToast("请选择收货地址"),!1;i.request(o.OrderSubmit,{addressId:this.addressId,couponId:this.couponId},"POST").then((function(t){if(0===t.errno){var e=t.data.orderInfo.id;d.payOrder(parseInt(e)).then((function(t){uni.redirectTo({url:"/pages/payResult/payResult?status=1&orderId="+e})})).catch((function(t){uni.redirectTo({url:"/pages/payResult/payResult?status=0&orderId="+e})}))}else i.showErrorToast("下单失败")}))}}});e.default=s}).call(this,a("0de9")["log"])},"173c":function(t,e,a){"use strict";var i=a("c760"),o=a.n(i);o.a},3066:function(t,e,a){"use strict";a.r(e);var i=a("4734"),o=a("d872");for(var d in o)["default"].indexOf(d)<0&&function(t){a.d(e,t,(function(){return o[t]}))}(d);a("173c");var s=a("f0c5"),n=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"0ab24006",null,!1,i["a"],void 0);e["default"]=n.exports},4734:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"container"},[a("v-uni-view",{staticClass:"address-box"},[t.checkedAddress.id>0?a("v-uni-view",{staticClass:"address-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.selectAddress.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"l"},[a("v-uni-text",{staticClass:"name"},[t._v(t._s(t.checkedAddress.name))]),1===t.checkedAddress.is_default?a("v-uni-text",{staticClass:"default"},[t._v("默认")]):t._e()],1),a("v-uni-view",{staticClass:"m"},[a("v-uni-text",{staticClass:"mobile"},[t._v(t._s(t.checkedAddress.mobile))]),a("v-uni-text",{staticClass:"address"},[t._v(t._s(t.checkedAddress.full_region+t.checkedAddress.address))])],1),a("v-uni-view",{staticClass:"r"})],1):t._e(),!t.checkedAddress.id>0?a("v-uni-view",{staticClass:"address-item address-empty",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.addAddress.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"m"},[t._v("还没有收货地址，去添加")]),a("v-uni-view",{staticClass:"r"},[a("v-uni-image",{attrs:{src:"/static/static/images/address_right.png"}})],1)],1):t._e()],1),a("v-uni-view",{staticClass:"order-box"},[a("v-uni-view",{staticClass:"order-item"},[a("v-uni-view",{staticClass:"l"},[a("v-uni-text",{staticClass:"name"},[t._v("商品合计")])],1),a("v-uni-view",{staticClass:"r"},[a("v-uni-text",{staticClass:"txt"},[t._v("￥"+t._s(t.goodsTotalPrice))])],1)],1),a("v-uni-view",{staticClass:"order-item"},[a("v-uni-view",{staticClass:"l"},[a("v-uni-text",{staticClass:"name"},[t._v("运费")])],1),a("v-uni-view",{staticClass:"r"},[a("v-uni-text",{staticClass:"txt"},[t._v("￥"+t._s(t.freightPrice))])],1)],1),a("v-uni-view",{staticClass:"order-item no-border"},[a("v-uni-view",{staticClass:"l"},[a("v-uni-text",{staticClass:"name"},[t._v("优惠券")])],1),a("v-uni-view",{staticClass:"r"},[a("v-uni-text",{staticClass:"txt"},[t._v("-￥"+t._s(t.couponPrice))])],1)],1)],1),a("v-uni-view",{staticClass:"goods-items"},t._l(t.checkedGoodsList,(function(e,i){return a("v-uni-view",{key:e.id,staticClass:"item"},[a("v-uni-view",{staticClass:"img"},[a("v-uni-image",{attrs:{src:e.list_pic_url}})],1),a("v-uni-view",{staticClass:"info"},[a("v-uni-view",{staticClass:"t"},[a("v-uni-text",{staticClass:"name"},[t._v(t._s(e.goods_name))]),a("v-uni-text",{staticClass:"number"},[t._v("x"+t._s(e.number))])],1),a("v-uni-view",{staticClass:"m"},[t._v(t._s(e.goods_specifition_name_value))]),a("v-uni-view",{staticClass:"b"},[t._v("￥"+t._s(e.retail_price))])],1)],1)})),1),a("v-uni-view",{staticClass:"order-total"},[a("v-uni-view",{staticClass:"l"},[t._v("实付：￥"+t._s(t.actualPrice))]),a("v-uni-view",{staticClass:"r",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submitOrder.apply(void 0,arguments)}}},[t._v("去付款")])],1)],1)},o=[]},8539:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,"uni-page-body[data-v-0ab24006]{height:100%;background:#f4f4f4}body.?%PAGE?%[data-v-0ab24006]{background:#f4f4f4}.address-box[data-v-0ab24006]{width:100%;height:%?166.55?%;\n    /* background: url('http://yanxuan.nosdn.127.net/hxm/yanxuan-wap/p/20161201/style/img/icon-normal/address-bg-bd30f2bfeb.png') 0 0 repeat-x; */background-size:%?62.5?% %?10.5?%;margin-bottom:%?20?%;padding-top:%?10.5?%}.address-item[data-v-0ab24006]{display:flex;height:%?155.55?%;background:#fff;padding:%?41.6?% 0 %?41.6?% %?31.25?%}.address-item.address-empty[data-v-0ab24006]{line-height:%?75?%;text-align:center}.address-box .l[data-v-0ab24006]{width:%?125?%;height:100%}.address-box .l .name[data-v-0ab24006]{margin-left:%?6.25?%;margin-top:%?-7.25?%;display:block;width:%?125?%;height:%?43?%;line-height:%?43?%;font-size:%?30?%;color:#333;margin-bottom:%?5?%}.address-box .l .default[data-v-0ab24006]{margin-left:%?6.25?%;display:block;width:%?62?%;height:%?33?%;border-radius:%?5?%;border:1px solid #b4282d;font-size:%?20.5?%;text-align:center;line-height:%?29?%;color:#b4282d}.address-box .m[data-v-0ab24006]{flex:1;height:%?72.25?%;color:#999}.address-box .mobile[data-v-0ab24006]{display:block;height:%?29?%;line-height:%?29?%;margin-bottom:%?6.25?%;font-size:%?30?%;color:#333}.address-box .address[data-v-0ab24006]{display:block;height:%?37.5?%;line-height:%?37.5?%;font-size:%?25?%;color:#666}.address-box .r[data-v-0ab24006]{width:%?77?%;height:%?77?%;display:flex;justify-content:center;align-items:center}.address-box .r uni-image[data-v-0ab24006]{width:%?52.078?%;height:%?52.078?%}.coupon-box[data-v-0ab24006]{width:100%;height:auto;overflow:hidden;background:#fff}.coupon-box .coupon-item[data-v-0ab24006]{width:100%;height:%?108.3?%;overflow:hidden;background:#fff;display:flex;padding-left:%?31.25?%}.coupon-box .l[data-v-0ab24006]{flex:1;height:%?43?%;line-height:%?43?%;padding-top:%?35?%}.coupon-box .l .name[data-v-0ab24006]{float:left;font-size:%?30?%;color:#666}.coupon-box .l .txt[data-v-0ab24006]{float:right;font-size:%?30?%;color:#666}.coupon-box .r[data-v-0ab24006]{margin-top:%?15.5?%;width:%?77?%;height:%?77?%;display:flex;justify-content:center;align-items:center}.coupon-box .r uni-image[data-v-0ab24006]{width:%?52.078?%;height:%?52.078?%}.order-box[data-v-0ab24006]{margin-top:%?20?%;width:100%;height:auto;overflow:hidden;background:#fff}.order-box .order-item[data-v-0ab24006]{height:%?104.3?%;overflow:hidden;background:#fff;display:flex;margin-left:%?31.25?%;padding-right:%?31.25?%;padding-top:%?26?%;border-bottom:1px solid #d9d9d9}.order-box .order-item .l[data-v-0ab24006]{float:left;height:%?52?%;width:50%;line-height:%?52?%;overflow:hidden}.order-box .order-item .r[data-v-0ab24006]{float:right;text-align:right;width:50%;height:%?52?%;line-height:%?52?%;overflow:hidden}.order-box .order-item.no-border[data-v-0ab24006]{border-bottom:none}.goods-items[data-v-0ab24006]{margin-top:%?20?%;width:100%;height:auto;overflow:hidden;background:#fff;padding-left:%?31.25?%;margin-bottom:%?120?%}.goods-items .item[data-v-0ab24006]{height:%?192?%;padding-right:%?31.25?%;display:flex;align-items:center;border-bottom:1px solid rgba(0,0,0,.15)}.goods-items .item.no-border[data-v-0ab24006]{border-bottom:none}.goods-items .item[data-v-0ab24006]:last-child{border-bottom:none}.goods-items .img[data-v-0ab24006]{height:%?145.83?%;width:%?145.83?%;background-color:#f4f4f4;margin-right:%?20?%}.goods-items .img uni-image[data-v-0ab24006]{height:%?145.83?%;width:%?145.83?%}.goods-items .info[data-v-0ab24006]{flex:1;height:%?145.83?%;padding-top:%?5?%}.goods-items .t[data-v-0ab24006]{height:%?33?%;line-height:%?33?%;margin-bottom:%?10?%;overflow:hidden;font-size:%?30?%;color:#333}.goods-items .t .name[data-v-0ab24006]{display:block;float:left}.goods-items .t .number[data-v-0ab24006]{display:block;float:right;text-align:right}.goods-items .m[data-v-0ab24006]{height:%?29?%;overflow:hidden;line-height:%?29?%;margin-bottom:%?25?%;font-size:%?25?%;color:#666}.goods-items .b[data-v-0ab24006]{height:%?41?%;overflow:hidden;line-height:%?41?%;font-size:%?30?%;color:#333}.order-total[data-v-0ab24006]{position:fixed;left:0;bottom:0;height:%?100?%;width:100%;display:flex}.order-total .l[data-v-0ab24006]{flex:1;height:%?100?%;line-height:%?100?%;color:#b4282d;background:#fff;font-size:%?33?%;padding-left:%?31.25?%;border-top:%?1?% solid rgba(0,0,0,.2);border-bottom:%?1?% solid rgba(0,0,0,.2)}.order-total .r[data-v-0ab24006]{width:%?233?%;height:%?100?%;background:#b4282d;border:1px solid #b4282d;line-height:%?100?%;text-align:center;color:#fff;font-size:%?30?%}",""]),t.exports=e},c760:function(t,e,a){var i=a("8539");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("4f06").default;o("358d8395",i,!0,{sourceMap:!1,shadowMode:!1})},d872:function(t,e,a){"use strict";a.r(e);var i=a("041c"),o=a.n(i);for(var d in i)["default"].indexOf(d)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(d);e["default"]=o.a}}]);