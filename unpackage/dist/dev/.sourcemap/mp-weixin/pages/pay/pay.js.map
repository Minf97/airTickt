{"version":3,"sources":["uni-app:///main.js","webpack:///D:/GithubProject/airttcket-front/pages/pay/pay.vue?12f6","webpack:///D:/GithubProject/airttcket-front/pages/pay/pay.vue?cf99","webpack:///D:/GithubProject/airttcket-front/pages/pay/pay.vue?97e6","webpack:///D:/GithubProject/airttcket-front/pages/pay/pay.vue?500d","uni-app:///pages/pay/pay.vue","webpack:///D:/GithubProject/airttcket-front/pages/pay/pay.vue?fcd9"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped","getApp","util","api","data","orderId","actualPrice","onLoad","onReady","onShow","onHide","onUnload","methods","isWx","requestPayParam","payType","console","uni","timeStamp","nonceStr","package","signType","paySign","success","url","fail","startPay"],"mappings":"wIAAA,MAGA,aACA,YAFAA,EAAGC,kCAAoCC,EAGvCC,EAAWC,a,gFCLX,oIACIC,EADJ,QASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,oBACZ,aAAAF,E,0CCvBf,uQ,iCCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G,iCCRvB,yHAA6pB,eAAG,G,gHCiCtpBC,SAAV,IAEIC,EAAO,EAAQ,IAEfC,EAAM,EAAQ,IAAd,EAEJ,CACAC,gBACA,OACAC,UACAC,gBAGAC,mBAEA,cACAF,kBACAC,6BAGAE,qBACAC,oBAGAC,oBAGAC,sBAGAC,SAGAC,gBAAA,QACA,iIACA,kCAGAC,2BACA,WACAZ,yBACAG,kBACAU,UACAF,gBACA,kBAEA,GADAG,eACA,aACA,aACAC,kBACAC,sBACAC,qBACAC,mBACAC,oBACAC,kBACAC,oBACArB,yBACAG,kBACAU,UACAF,gBAEAI,cACAO,gDAGAC,iBACAR,cACAO,wDAQAE,oBACA,0BAGA,c,6DC/GA,yHAAk8B,eAAG,G","file":"pages/pay/pay.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/pay/pay.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./pay.vue?vue&type=template&id=c10d0c50&\"\nvar renderjs\nimport script from \"./pay.vue?vue&type=script&lang=js&\"\nexport * from \"./pay.vue?vue&type=script&lang=js&\"\nimport style0 from \"./pay.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/pay/pay.vue\"\nexport default component.exports","export * from \"-!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pay.vue?vue&type=template&id=c10d0c50&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pay.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pay.vue?vue&type=script&lang=js&\"","<template>\r\n    <view class=\"container\">\r\n        <view class=\"total\">\r\n            <view class=\"label\">订单金额</view>\r\n            <view class=\"txt\">{{ actualPrice }}元</view>\r\n        </view>\r\n        <view class=\"pay-list\">\r\n            <view class=\"h\">请选择支付方式</view>\r\n            <view class=\"b\">\r\n                <!--<view class=\"item\">\r\n                <view class=\"checkbox checked\"></view>\r\n                <view class=\"icon-alipay\"></view>\r\n                <view class=\"name\">支付宝</view>\r\n            </view>\r\n            <view class=\"item\">\r\n                <view class=\"checkbox\"></view>\r\n                <view class=\"icon-net\"></view>\r\n                <view class=\"name\">网易支付</view>\r\n            </view>-->\r\n                <view class=\"item\">\r\n                    <view class=\"checkbox checked\"></view>\r\n                    <image src=\"/static/static/images/wxpay.png\" class=\"icon\"></image>\r\n                    <view class=\"name\">微信支付</view>\r\n                </view>\r\n            </view>\r\n        </view>\r\n        <view class=\"tips\">小程序只支持微信支付，如需其它支付方式，请在网页版支付</view>\r\n\r\n        <view class=\"pay-btn\" @tap=\"startPay\">确定</view>\r\n    </view>\r\n</template>\r\n\r\n<script>\r\nvar app = getApp();\r\n\r\nvar util = require('../../utils/util.js');\r\n\r\nvar api = require('../../config/api.js');\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            orderId: 0,\r\n            actualPrice: 0\r\n        };\r\n    },\r\n    onLoad: function (options) {\r\n        // 页面初始化 options为页面跳转所带来的参数\r\n        this.setData({\r\n            orderId: options.orderId,\r\n            actualPrice: options.actualPrice\r\n        });\r\n    },\r\n    onReady: function () {},\r\n    onShow: function () {\r\n        // 页面显示\r\n    },\r\n    onHide: function () {\r\n        // 页面隐藏\r\n    },\r\n    onUnload: function () {\r\n        // 页面关闭\r\n    },\r\n    methods: {\r\n\t\t\r\n\t\t// 判断是否是微信浏览器\r\n\t\t isWx() {\r\n\t\t\tlet uAgent = navigator?.userAgent?.toLowerCase && navigator.userAgent.toLowerCase();\r\n\t\t\treturn /micromessenger/.test(uAgent) ? true : false;\r\n\t\t},\r\n        //向服务请求支付参数\r\n        requestPayParam() {\r\n            let that = this;\r\n            util.request(api.PayPrepayId, {\r\n                orderId: that.orderId,\r\n                payType: 1,\r\n\t\t\t\tisWx:that.isWx(),\r\n            }).then(function (res) {\r\n\t\t\t\tconsole.log(res)\r\n                if (res.errno === 0) {\r\n                    let payParam = res.data;\r\n                    uni.requestPayment({\r\n                        timeStamp: payParam.timeStamp,\r\n                        nonceStr: payParam.timeStamp,\r\n                        package: payParam.nonceStr,\r\n                        signType: payParam.signType,\r\n                        paySign: payParam.paySign,\r\n                        success: function (res) {\r\n\t\t\t\t\t\t\tutil.request(api.PayPrepayId, {\r\n\t\t\t\t\t\t\t    orderId: that.orderId,\r\n\t\t\t\t\t\t\t    payType: 1,\r\n\t\t\t\t\t\t\t\tisWx:that.isWx(),\r\n\t\t\t\t\t\t\t})\r\n                            uni.redirectTo({\r\n                                url: '/pages/payResult/payResult?status=true'\r\n                            });\r\n                        },\r\n                        fail: function (res) {\r\n                            uni.redirectTo({\r\n                                url: '/pages/payResult/payResult?status=false'\r\n                            });\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        },\r\n\r\n        startPay() {\r\n            this.requestPayParam();\r\n        }\r\n    }\r\n};\r\n</script>\r\n<style>\r\npage {\r\n    min-height: 100%;\r\n    width: 100%;\r\n    background: #f4f4f4;\r\n}\r\n\r\n.container {\r\n    padding-top: 20rpx;\r\n}\r\n\r\n.total {\r\n    height: 104rpx;\r\n    background: #fff;\r\n    width: 100%;\r\n    line-height: 104rpx;\r\n    padding-left: 30rpx;\r\n    padding-right: 30rpx;\r\n}\r\n\r\n.total .label {\r\n    float: left;\r\n}\r\n\r\n.total .txt {\r\n    float: right;\r\n}\r\n\r\n.pay-list {\r\n    margin-top: 30rpx;\r\n    height: auto;\r\n    width: 100%;\r\n    overflow: hidden;\r\n}\r\n.pay-list .h {\r\n    width: 100%;\r\n    height: 24rpx;\r\n    line-height: 24rpx;\r\n    margin-left: 31.25rpx;\r\n    margin-bottom: 31.25rpx;\r\n}\r\n\r\n.pay-list .item {\r\n    height: 108rpx;\r\n    padding-left: 31.25rpx;\r\n    background: #fff;\r\n    display: flex;\r\n    align-items: center;\r\n    border-bottom: 1px solid #f4f4f4;\r\n}\r\n\r\n.pay-list .checkbox {\r\n    background: url('http://yanxuan.nosdn.127.net/hxm/yanxuan-wap/p/20161201/style/img/sprites/checkbox-sed825af9d3-a6b8540d42.png') 0 -448rpx no-repeat;\r\n    background-size: 38rpx 486rpx;\r\n    width: 40rpx;\r\n    height: 40rpx;\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    margin-right: 30rpx;\r\n}\r\n\r\n.pay-list .checkbox.checked {\r\n    background: url('http://yanxuan.nosdn.127.net/hxm/yanxuan-wap/p/20161201/style/img/sprites/checkbox-sed825af9d3-a6b8540d42.png') 0 -192rpx no-repeat;\r\n    background-size: 38rpx 486rpx;\r\n}\r\n\r\n.pay-list .icon-alipay {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    background-image: url('http://yanxuan.nosdn.127.net/hxm/yanxuan-wap/p/20161201/style/img/sprites/payMethod-s3c1faebee4-d754da9c65.png');\r\n    background-repeat: no-repeat;\r\n    background-size: 56.25rpx 189.583rpx;\r\n    margin-right: 10.5rpx;\r\n    width: 56.25rpx;\r\n    height: 56.25rpx;\r\n}\r\n\r\n.pay-list .icon-net {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    background: url('http://yanxuan.nosdn.127.net/hxm/yanxuan-wap/p/20161201/style/img/sprites/payMethod-s3c1faebee4-d754da9c65.png') 0 -66.7rpx no-repeat;\r\n    background-size: 56.25rpx 189.583rpx;\r\n    margin-right: 10.5rpx;\r\n    width: 56.25rpx;\r\n    height: 56.25rpx;\r\n}\r\n\r\n.pay-list .icon {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    margin-right: 10.5rpx;\r\n    width: 56.25rpx;\r\n    height: 56.25rpx;\r\n}\r\n\r\n.pay-list .name {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    height: 56.25rpx;\r\n    line-height: 56.25rpx;\r\n}\r\n\r\n.pay-btn {\r\n    position: fixed;\r\n    left: 0;\r\n    bottom: 0;\r\n    height: 100rpx;\r\n    width: 100%;\r\n    text-align: center;\r\n    line-height: 100rpx;\r\n    background: #b4282d;\r\n    color: #fff;\r\n    font-size: 30rpx;\r\n}\r\n\r\n.tips {\r\n    height: 40rpx;\r\n    width: 100%;\r\n    font-size: 24rpx;\r\n    color: #999;\r\n    line-height: 40rpx;\r\n    padding-left: 30rpx;\r\n    padding-right: 30rpx;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pay.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pay.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}