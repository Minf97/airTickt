{"version":3,"sources":["uni-app:///main.js","webpack:////Users/macbook/Downloads/airttcket-front-main/pages/cart/cart.vue?a9a1","webpack:////Users/macbook/Downloads/airttcket-front-main/pages/cart/cart.vue?87b2","webpack:////Users/macbook/Downloads/airttcket-front-main/pages/cart/cart.vue?1b8b","webpack:////Users/macbook/Downloads/airttcket-front-main/pages/cart/cart.vue?5877","uni-app:///pages/cart/cart.vue","webpack:////Users/macbook/Downloads/airttcket-front-main/pages/cart/cart.vue?fd82","webpack:////Users/macbook/Downloads/airttcket-front-main/pages/cart/cart.vue?5238"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;;;AAGA;AACA,0F,8FAHA;AACAA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC,CAGAC,UAAU,CAACC,aAAD,CAAV,C;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;AACa;;;AAGhE;AAC6M;AAC7M,gBAAgB,iNAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAmzB,CAAgB,kyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC4Fv0B;;AAEA;;AAEA,mB;AACA;AACA,MADA,kBACA;AACA;AACA,mBADA;AAEA;AACA,qBADA;AAEA,sBAFA;AAGA,4BAHA;AAIA,6BAJA,EAFA;;AAQA,uBARA;AASA,4BATA;AAUA,sBAVA;;AAYA,GAdA;AAeA;AACA;AACA,GAjBA;AAkBA;AACA;AACA,GApBA;AAqBA;AACA;AACA;AACA,GAxBA;AAyBA;AACA;AACA,GA3BA;AA4BA;AACA;AACA,GA9BA;AA+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCADA;AAEA,yCAFA;;AAIA;;AAEA;AACA,+CADA;;AAGA,OAZA;AAaA,KAhBA;;AAkBA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA,OANA;AAOA,KA3BA;;AA6BA;AACA;AACA;;AAEA;AACA;AACA,uBADA,EACA;AACA,0DADA;AAEA,8DAFA,EADA;;AAKA,cALA;AAMA,YANA,CAMA;AACA;AACA;AACA;AACA,0CADA;AAEA,2CAFA;;AAIA;;AAEA;AACA,iDADA;;AAGA,SAlBA;AAmBA,OApBA,MAoBA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SANA;AAOA;AACA,gCADA;AAEA,+CAFA;AAGA,oEAHA;;AAKA;AACA,KApEA;;AAsEA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA;AAKA;AACA;AACA,KA/EA;;AAiFA;AACA;;AAEA;AACA;AACA;AACA,SAFA;AAGA;AACA,uBADA,EACA;AACA,0CADA;AAEA,gDAFA,EADA;;AAKA,cALA;AAMA,YANA,CAMA;AACA;AACA;AACA;AACA,0CADA;AAEA,2CAFA;;AAIA;;AAEA;AACA,iDADA;;AAGA,SAlBA;AAmBA,OAvBA,MAuBA;AACA;AACA;AACA;AACA;AACA;AACA,SAHA;AAIA;AACA,gCADA;AAEA,+CAFA;AAGA,oEAHA;;AAKA;AACA,KAxHA;;AA0HA;AACA;;AAEA;AACA;AACA;AACA,sCADA;;AAGA,OALA,MAKA;AACA;AACA;AACA;AACA;AACA,SAHA;AAIA;AACA,sCADA;AAEA,gCAFA;AAGA,sCAHA;AAIA,+CAJA;AAKA,oEALA;;AAOA;AACA,KAhJA;;AAkJA;AACA;AACA;AACA,oBADA,EACA;AACA,4BADA;AAEA,wBAFA;AAGA,sBAHA;AAIA,cAJA,EADA;;AAOA,YAPA;AAQA,UARA,CAQA;AACA;AACA;AACA;;AAEA;AACA,+CADA;;AAGA,OAhBA;AAiBA,KArKA;;AAuKA;AACA;AACA;AACA;AACA;AACA;AACA,iCADA;;AAGA;AACA,KAhLA;;AAkLA;AACA;AACA;AACA;AACA;AACA;AACA,iCADA;;AAGA;AACA,KA3LA;;AA6LA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA,OANA;;AAQA;AACA;AACA;;AAEA;AACA,4CADA;;AAGA,KA/MA;;AAiNA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA,OANA;;AAQA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAJA;AAKA;AACA,oBADA,EACA;AACA,wCADA,EADA;;AAIA,YAJA;AAKA,UALA,CAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAJA;AAKA;AACA,+BADA;AAEA,yCAFA;;AAIA;;AAEA;AACA,+CADA;;AAGA,OAtBA;AAuBA,KA5PA,EA/BA,E;;;;;;;;;;;;;ACjGA;AAAA;AAAA;AAAA;AAA0pC,CAAgB,+lCAAG,EAAC,C;;;;;;;;;;;ACA9qC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/cart/cart.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/cart/cart.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./cart.vue?vue&type=template&id=0f00adf4&\"\nvar renderjs\nimport script from \"./cart.vue?vue&type=script&lang=js&\"\nexport * from \"./cart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./cart.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/cart/cart.vue\"\nexport default component.exports","export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=template&id=0f00adf4&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"container\">\r\n\t\t<view class=\"cart-bottom\">\r\n\t\t\t<view :class=\"'checkbox ' + (checkedAllStatus ? 'checked' : '')\" @tap=\"checkedAll\">\r\n\t\t\t\t全选({{ cartTotal.checkedGoodsCount }})</view>\r\n\t\t\t<view class=\"total\">{{ !isEditCart ? '￥' + cartTotal.checkedGoodsAmount : '' }}</view>\r\n\t\t\t<view class=\"delete\" @tap=\"editCart\">{{ !isEditCart ? '编辑' : '完成' }}</view>\r\n\t\t\t<view class=\"checkout\" @tap=\"deleteCart\" v-if=\"isEditCart\">删除所选</view>\r\n\t\t\t<view class=\"checkout\" @tap=\"checkoutOrder\" v-if=\"!isEditCart\">下单</view>\r\n\t\t</view>\r\n\t\t<!-- <view class=\"service-policy\">\r\n\t\t\t<view class=\"item\">30天无忧退货</view>\r\n\t\t\t<view class=\"item\">48小时快速退款</view>\r\n\t\t\t<view class=\"item\">满88元免邮费</view>\r\n\t\t</view> -->\r\n\t\t<view class=\"no-cart\" v-if=\"cartGoods.length <= 0\">\r\n\t\t\t<view class=\"c\">\r\n\t\t\t\t<image\r\n\t\t\t\t\tsrc=\"http://nos.netease.com/mailpub/hxm/yanxuan-wap/p/20150730/style/img/icon-normal/noCart-a8fe3f12e5.png\" />\r\n\t\t\t\t<text>去添加点什么吧</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"cart-view\" v-if=\"cartGoods.length > 0\">\r\n\t\t\t<view class=\"list\">\r\n\t\t\t\t<view class=\"group-item\">\r\n\t\t\t\t\t<view class=\"goods\">\r\n\t\t\t\t\t\t<view :class=\"'item ' + (isEditCart ? 'edit' : '')\" v-for=\"(item, index) in cartGoods\"\r\n\t\t\t\t\t\t\t:key=\"item.id\">\r\n\t\t\t\t\t\t\t<view :class=\"'checkbox ' + (item.checked ? 'checked' : '')\" @tap=\"checkedItem\"\r\n\t\t\t\t\t\t\t\t:data-item-index=\"index\"></view>\r\n\r\n\t\t\t\t\t\t\t<view class=\"cart-goods\">\r\n\t\t\t\t\t\t\t\t<image class=\"img\" :src=\"item.list_pic_url\"></image>\r\n\t\t\t\t\t\t\t\t<view class=\"info\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"t\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"name\">{{ item.goods_name }}</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"num\">x{{ item.number }}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"attr\">\r\n\t\t\t\t\t\t\t\t\t\t{{ isEditCart ? '已选择:' : '' }}{{ item.goods_specifition_name_value }}\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"b\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"price\">￥{{ item.retail_price }}</text>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"selnum\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"cut\" @tap=\"cutNumber\" :data-item-index=\"index\">-</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<input :value=\"item.number\" class=\"number\" :disabled=\"true\" type=\"number\" />\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"add\" @tap=\"addNumber\" :data-item-index=\"index\">+</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!--<view class=\"group-item\">\r\n                <view class=\"header\">\r\n                    <view class=\"promotion\">\r\n                        <text class=\"tag\">满赠</text>\r\n                        <text class=\"txt\">再加26元, 3件赠1件蔓越莓干</text>\r\n                        <image class=\"icon\" src=\"http://nos.netease.com/mailpub/hxm/yanxuan-wap/p/20150730/style/img/icon-normal/go-b67cb9718d.png\"></image>\r\n                    </view>\r\n                    <view class=\"get\">领赠品</view>                \r\n                </view>\r\n                <view class=\"goods\">\r\n                    <view class=\"item\">\r\n                        <view class=\"checkbox\" ></view>\r\n                        <view class=\"cart-goods\">\r\n                            <image class=\"img\" src=\"http://yanxuan.nosdn.127.net/04e05e9de3a471b1f6479dd137b459a8.png\"></image>\r\n                            <view class=\"info\">\r\n                                <view class=\"t\">\r\n                                    <text class=\"name\">秋冬保暖加厚细羊毛被</text>\r\n                                    <text class=\"num\">x1</text>\r\n                                </view>\r\n                                <view class=\"attr\">220*240cm</view>\r\n                                <view class=\"b\">\r\n                                    <text class=\"price\">￥199.99</text>\r\n                                    <view class=\"open\">优惠活动</view>\r\n                                </view>\r\n                            </view>\r\n                        </view>\r\n                    </view>\r\n                </view>\r\n            </view>-->\r\n\t\t\t</view>\r\n\r\n\t\t</view>\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\tvar util = require('../../utils/util.js');\r\n\r\n\tvar api = require('../../config/api.js');\r\n\r\n\tvar app = getApp();\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcartGoods: [],\r\n\t\t\t\tcartTotal: {\r\n\t\t\t\t\tgoodsCount: 0,\r\n\t\t\t\t\tgoodsAmount: 0,\r\n\t\t\t\t\tcheckedGoodsCount: 0,\r\n\t\t\t\t\tcheckedGoodsAmount: 0\r\n\t\t\t\t},\r\n\t\t\t\tisEditCart: false,\r\n\t\t\t\tcheckedAllStatus: true,\r\n\t\t\t\teditCartList: []\r\n\t\t\t};\r\n\t\t},\r\n\t\tonLoad: function(options) {\r\n\t\t\t// 页面初始化 options为页面跳转所带来的参数\r\n\t\t},\r\n\t\tonReady: function() {\r\n\t\t\t// 页面渲染完成\r\n\t\t},\r\n\t\tonShow: function() {\r\n\t\t\t// 页面显示\r\n\t\t\tthis.getCartList();\r\n\t\t},\r\n\t\tonHide: function() {\r\n\t\t\t// 页面隐藏\r\n\t\t},\r\n\t\tonUnload: function() {\r\n\t\t\t// 页面关闭\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetCartList: function() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tutil.request(api.CartList).then(function(res) {\r\n\t\t\t\t\tif (res.errno === 0) {\r\n\t\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\t\tthat.setData({\r\n\t\t\t\t\t\t\tcartGoods: res.data.cartList,\r\n\t\t\t\t\t\t\tcartTotal: res.data.cartTotal\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthat.setData({\r\n\t\t\t\t\t\tcheckedAllStatus: that.isCheckedAll()\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\tisCheckedAll: function() {\r\n\t\t\t\t//判断购物车商品已全选\r\n\t\t\t\treturn this.cartGoods.every(function(element, index, array) {\r\n\t\t\t\t\tif (element.checked == true) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\tcheckedItem: function(event) {\r\n\t\t\t\tlet itemIndex = event.target.dataset.itemIndex;\r\n\t\t\t\tlet that = this;\r\n\r\n\t\t\t\tif (!this.isEditCart) {\r\n\t\t\t\t\tutil.request(\r\n\t\t\t\t\t\tapi.CartChecked, {\r\n\t\t\t\t\t\t\tproductIds: that.cartGoods[itemIndex].product_id,\r\n\t\t\t\t\t\t\tisChecked: that.cartGoods[itemIndex].checked ? 0 : 1\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t'POST'\r\n\t\t\t\t\t).then(function(res) {\r\n\t\t\t\t\t\tif (res.errno === 0) {\r\n\t\t\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\t\t\tthat.setData({\r\n\t\t\t\t\t\t\t\tcartGoods: res.data.cartList,\r\n\t\t\t\t\t\t\t\tcartTotal: res.data.cartTotal\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthat.setData({\r\n\t\t\t\t\t\t\tcheckedAllStatus: that.isCheckedAll()\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//编辑状态\r\n\t\t\t\t\tlet tmpCartData = this.cartGoods.map(function(element, index, array) {\r\n\t\t\t\t\t\tif (index == itemIndex) {\r\n\t\t\t\t\t\t\telement.checked = !element.checked;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn element;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthat.setData({\r\n\t\t\t\t\t\tcartGoods: tmpCartData,\r\n\t\t\t\t\t\tcheckedAllStatus: that.isCheckedAll(),\r\n\t\t\t\t\t\t'cartTotal.checkedGoodsCount': that.getCheckedGoodsCount()\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tgetCheckedGoodsCount: function() {\r\n\t\t\t\tlet checkedGoodsCount = 0;\r\n\t\t\t\tthis.cartGoods.forEach(function(v) {\r\n\t\t\t\t\tif (v.checked === true) {\r\n\t\t\t\t\t\tcheckedGoodsCount += v.number;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tconsole.log(checkedGoodsCount);\r\n\t\t\t\treturn checkedGoodsCount;\r\n\t\t\t},\r\n\r\n\t\t\tcheckedAll: function() {\r\n\t\t\t\tlet that = this;\r\n\r\n\t\t\t\tif (!this.isEditCart) {\r\n\t\t\t\t\tvar productIds = this.cartGoods.map(function(v) {\r\n\t\t\t\t\t\treturn v.product_id;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tutil.request(\r\n\t\t\t\t\t\tapi.CartChecked, {\r\n\t\t\t\t\t\t\tproductIds: productIds.join(','),\r\n\t\t\t\t\t\t\tisChecked: that.isCheckedAll() ? 0 : 1\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t'POST'\r\n\t\t\t\t\t).then(function(res) {\r\n\t\t\t\t\t\tif (res.errno === 0) {\r\n\t\t\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\t\t\tthat.setData({\r\n\t\t\t\t\t\t\t\tcartGoods: res.data.cartList,\r\n\t\t\t\t\t\t\t\tcartTotal: res.data.cartTotal\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthat.setData({\r\n\t\t\t\t\t\t\tcheckedAllStatus: that.isCheckedAll()\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//编辑状态\r\n\t\t\t\t\tlet checkedAllStatus = that.isCheckedAll();\r\n\t\t\t\t\tlet tmpCartData = this.cartGoods.map(function(v) {\r\n\t\t\t\t\t\tv.checked = !checkedAllStatus;\r\n\t\t\t\t\t\treturn v;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthat.setData({\r\n\t\t\t\t\t\tcartGoods: tmpCartData,\r\n\t\t\t\t\t\tcheckedAllStatus: that.isCheckedAll(),\r\n\t\t\t\t\t\t'cartTotal.checkedGoodsCount': that.getCheckedGoodsCount()\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\teditCart: function() {\r\n\t\t\t\tvar that = this;\r\n\r\n\t\t\t\tif (this.isEditCart) {\r\n\t\t\t\t\tthis.getCartList();\r\n\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\tisEditCart: !this.isEditCart\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//编辑状态\r\n\t\t\t\t\tlet tmpCartList = this.cartGoods.map(function(v) {\r\n\t\t\t\t\t\tv.checked = false;\r\n\t\t\t\t\t\treturn v;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\teditCartList: this.cartGoods,\r\n\t\t\t\t\t\tcartGoods: tmpCartList,\r\n\t\t\t\t\t\tisEditCart: !this.isEditCart,\r\n\t\t\t\t\t\tcheckedAllStatus: that.isCheckedAll(),\r\n\t\t\t\t\t\t'cartTotal.checkedGoodsCount': that.getCheckedGoodsCount()\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tupdateCart: function(productId, goodsId, number, id) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tutil.request(\r\n\t\t\t\t\tapi.CartUpdate, {\r\n\t\t\t\t\t\tproductId: productId,\r\n\t\t\t\t\t\tgoodsId: goodsId,\r\n\t\t\t\t\t\tnumber: number,\r\n\t\t\t\t\t\tid: id\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'POST'\r\n\t\t\t\t).then(function(res) {\r\n\t\t\t\t\tif (res.errno === 0) {\r\n\t\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthat.setData({\r\n\t\t\t\t\t\tcheckedAllStatus: that.isCheckedAll()\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\tcutNumber: function(event) {\r\n\t\t\t\tlet itemIndex = event.target.dataset.itemIndex;\r\n\t\t\t\tlet cartItem = this.cartGoods[itemIndex];\r\n\t\t\t\tlet number = cartItem.number - 1 > 1 ? cartItem.number - 1 : 1;\r\n\t\t\t\tcartItem.number = number;\r\n\t\t\t\tthis.setData({\r\n\t\t\t\t\tcartGoods: this.cartGoods\r\n\t\t\t\t});\r\n\t\t\t\tthis.updateCart(cartItem.product_id, cartItem.goods_id, number, cartItem.id);\r\n\t\t\t},\r\n\r\n\t\t\taddNumber: function(event) {\r\n\t\t\t\tlet itemIndex = event.target.dataset.itemIndex;\r\n\t\t\t\tlet cartItem = this.cartGoods[itemIndex];\r\n\t\t\t\tlet number = cartItem.number + 1;\r\n\t\t\t\tcartItem.number = number;\r\n\t\t\t\tthis.setData({\r\n\t\t\t\t\tcartGoods: this.cartGoods\r\n\t\t\t\t});\r\n\t\t\t\tthis.updateCart(cartItem.product_id, cartItem.goods_id, number, cartItem.id);\r\n\t\t\t},\r\n\r\n\t\t\tcheckoutOrder: function() {\r\n\t\t\t\t//获取已选择的商品\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tvar checkedGoods = this.cartGoods.filter(function(element, index, array) {\r\n\t\t\t\t\tif (element.checked == true) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (checkedGoods.length <= 0) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '../shopping/checkout/checkout'\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\tdeleteCart: function() {\r\n\t\t\t\t//获取已选择的商品\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet productIds = this.cartGoods.filter(function(element, index, array) {\r\n\t\t\t\t\tif (element.checked == true) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (productIds.length <= 0) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tproductIds = productIds.map(function(element, index, array) {\r\n\t\t\t\t\tif (element.checked == true) {\r\n\t\t\t\t\t\treturn element.product_id;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tutil.request(\r\n\t\t\t\t\tapi.CartDelete, {\r\n\t\t\t\t\t\tproductIds: productIds.join(',')\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'POST'\r\n\t\t\t\t).then(function(res) {\r\n\t\t\t\t\tif (res.errno === 0) {\r\n\t\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\t\tlet cartList = res.data.cartList.map((v) => {\r\n\t\t\t\t\t\t\tconsole.log(v);\r\n\t\t\t\t\t\t\tv.checked = false;\r\n\t\t\t\t\t\t\treturn v;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthat.setData({\r\n\t\t\t\t\t\t\tcartGoods: cartList,\r\n\t\t\t\t\t\t\tcartTotal: res.data.cartTotal\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthat.setData({\r\n\t\t\t\t\t\tcheckedAllStatus: that.isCheckedAll()\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n<style>\r\n\tpage {\r\n\t\theight: 100%;\r\n\t\tmin-height: 100%;\r\n\t\tbackground: #f4f4f4;\r\n\t}\r\n\r\n\t.container {\r\n\t\tposition: relative;\r\n\t\tbackground: #f4f4f4;\r\n\t\twidth: 100%;\r\n\t\theight: auto;\r\n\t\tmin-height: 100%;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.service-policy {\r\n\t\twidth: 750rpx;\r\n\t\theight: 73rpx;\r\n\t\tbackground: #f4f4f4;\r\n\t\tpadding: 0 31.25rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-flow: row nowrap;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.service-policy .item {\r\n\t\tbackground: url('http://nos.netease.com/mailpub/hxm/yanxuan-wap/p/20150730/style/img/icon-normal/servicePolicyRed-518d32d74b.png') 0 center no-repeat;\r\n\t\tbackground-size: 10rpx;\r\n\t\tpadding-left: 15rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tfont-size: 25rpx;\r\n\t\tcolor: #666;\r\n\t}\r\n\r\n\t.no-cart {\r\n\t\twidth: 100%;\r\n\t\theight: auto;\r\n\t\tmargin: 0 auto;\r\n\t}\r\n\r\n\t.no-cart .c {\r\n\t\twidth: 100%;\r\n\t\theight: auto;\r\n\t\tmargin-top: 200rpx;\r\n\t}\r\n\r\n\t.no-cart .c image {\r\n\t\tmargin: 0 auto;\r\n\t\tdisplay: block;\r\n\t\ttext-align: center;\r\n\t\twidth: 258rpx;\r\n\t\theight: 258rpx;\r\n\t}\r\n\r\n\t.no-cart .c text {\r\n\t\tmargin: 0 auto;\r\n\t\tdisplay: block;\r\n\t\twidth: 258rpx;\r\n\t\theight: 29rpx;\r\n\t\tline-height: 29rpx;\r\n\t\ttext-align: center;\r\n\t\tfont-size: 29rpx;\r\n\t\tcolor: #999;\r\n\t}\r\n\r\n\t.cart-view {\r\n\t\tposition: relative;\r\n\t\twidth: 100%;\r\n\t\theight: auto;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.cart-view .list {\r\n\t\theight: auto;\r\n\t\twidth: 100%;\r\n\t\toverflow: hidden;\r\n\t\tmargin-bottom: 120rpx;\r\n\t}\r\n\r\n\t.cart-view .group-item {\r\n\t\theight: auto;\r\n\t\twidth: 100%;\r\n\t\tbackground: #fff;\r\n\t\tmargin-bottom: 18rpx;\r\n\t}\r\n\r\n\t.cart-view .item {\r\n\t\theight: 164rpx;\r\n\t\twidth: 100%;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.cart-view .item .checkbox {\r\n\t\tfloat: left;\r\n\t\theight: 34rpx;\r\n\t\twidth: 34rpx;\r\n\t\tmargin: 65rpx 18rpx 65rpx 26rpx;\r\n\t\tbackground: url('http://nos.netease.com/mailpub/hxm/yanxuan-wap/p/20150730/style/img/icon-normal/checkbox-0e09baa37e.png') no-repeat;\r\n\t\tbackground-size: 34rpx;\r\n\t}\r\n\r\n\t.cart-view .item .checkbox.checked {\r\n\t\tbackground: url('http://nos.netease.com/mailpub/hxm/yanxuan-wap/p/20150730/style/img/icon-normal/checkbox-checked-822e54472a.png') no-repeat;\r\n\t\tbackground-size: 34rpx;\r\n\t}\r\n\r\n\t.cart-view .item .cart-goods {\r\n\t\tfloat: left;\r\n\t\theight: 164rpx;\r\n\t\twidth: 672rpx;\r\n\t\tborder-bottom: 1px solid #f4f4f4;\r\n\t}\r\n\r\n\t.cart-view .item .img {\r\n\t\tfloat: left;\r\n\t\theight: 125rpx;\r\n\t\twidth: 125rpx;\r\n\t\tbackground: #f4f4f4;\r\n\t\tmargin: 19.5rpx 18rpx 19.5rpx 0;\r\n\t}\r\n\r\n\t.cart-view .item .info {\r\n\t\tfloat: left;\r\n\t\theight: 125rpx;\r\n\t\twidth: 503rpx;\r\n\t\tmargin: 19.5rpx 26rpx 19.5rpx 0;\r\n\t}\r\n\r\n\t.cart-view .item .t {\r\n\t\tmargin: 8rpx 0;\r\n\t\theight: 28rpx;\r\n\t\tfont-size: 25rpx;\r\n\t\tcolor: #333;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.cart-view .item .name {\r\n\t\theight: 28rpx;\r\n\t\tmax-width: 310rpx;\r\n\t\tline-height: 28rpx;\r\n\t\tfont-size: 25rpx;\r\n\t\tcolor: #333;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.cart-view .item .num {\r\n\t\theight: 28rpx;\r\n\t\tline-height: 28rpx;\r\n\t\tfloat: right;\r\n\t}\r\n\r\n\t.cart-view .item .attr {\r\n\t\tmargin-bottom: 17rpx;\r\n\t\theight: 24rpx;\r\n\t\tline-height: 24rpx;\r\n\t\tfont-size: 22rpx;\r\n\t\tcolor: #666;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.cart-view .item .b {\r\n\t\theight: 28rpx;\r\n\t\tline-height: 28rpx;\r\n\t\tfont-size: 25rpx;\r\n\t\tcolor: #333;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.cart-view .item .price {\r\n\t\tfloat: left;\r\n\t}\r\n\r\n\t.cart-view .item .open {\r\n\t\theight: 28rpx;\r\n\t\twidth: 150rpx;\r\n\t\tdisplay: block;\r\n\t\tfloat: right;\r\n\t\tbackground: url('http://nos.netease.com/mailpub/hxm/yanxuan-wap/p/20150730/style/img/icon-normal/arrowDown-d48093db25.png') right center no-repeat;\r\n\t\tbackground-size: 25rpx;\r\n\t\tfont-size: 25rpx;\r\n\t\tcolor: #333;\r\n\t}\r\n\r\n\t.cart-view .item.edit .t {\r\n\t\tdisplay: none;\r\n\t}\r\n\r\n\t.cart-view .item.edit .attr {\r\n\t\ttext-align: right;\r\n\t\tbackground: url('http://yanxuan.nosdn.127.net/hxm/yanxuan-wap/p/20161201/style/img/icon-normal/arrow-right1-e9828c5b35.png') right center no-repeat;\r\n\t\tpadding-right: 25rpx;\r\n\t\tbackground-size: 12rpx 20rpx;\r\n\t\tmargin-bottom: 24rpx;\r\n\t\theight: 39rpx;\r\n\t\tline-height: 39rpx;\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #999;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.cart-view .item.edit .b {\r\n\t\tdisplay: flex;\r\n\t\theight: 52rpx;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.cart-view .item.edit .price {\r\n\t\tline-height: 52rpx;\r\n\t\theight: 52rpx;\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\t.cart-view .item .selnum {\r\n\t\tdisplay: none;\r\n\t}\r\n\r\n\t.cart-view .item.edit .selnum {\r\n\t\twidth: 235rpx;\r\n\t\theight: 52rpx;\r\n\t\tborder: 1rpx solid #ccc;\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.selnum .cut {\r\n\t\twidth: 70rpx;\r\n\t\theight: 100%;\r\n\t\ttext-align: center;\r\n\t\tline-height: 50rpx;\r\n\t}\r\n\r\n\t.selnum .number {\r\n\t\tflex: 1;\r\n\t\theight: 100%;\r\n\t\ttext-align: center;\r\n\t\tline-height: 68.75rpx;\r\n\t\tborder-left: 1px solid #ccc;\r\n\t\tborder-right: 1px solid #ccc;\r\n\t\tfloat: left;\r\n\t}\r\n\r\n\t.selnum .add {\r\n\t\twidth: 80rpx;\r\n\t\theight: 100%;\r\n\t\ttext-align: center;\r\n\t\tline-height: 50rpx;\r\n\t}\r\n\r\n\t.cart-view .group-item .header {\r\n\t\twidth: 100%;\r\n\t\theight: 94rpx;\r\n\t\tline-height: 94rpx;\r\n\t\tpadding: 0 26rpx;\r\n\t\tborder-bottom: 1px solid #f4f4f4;\r\n\t}\r\n\r\n\t.cart-view .promotion .icon {\r\n\t\tdisplay: inline-block;\r\n\t\theight: 24rpx;\r\n\t\twidth: 15rpx;\r\n\t}\r\n\r\n\t.cart-view .promotion {\r\n\t\tmargin-top: 25.5rpx;\r\n\t\tfloat: left;\r\n\t\theight: 43rpx;\r\n\t\twidth: 480rpx;\r\n\t\t/*margin-right: 84rpx;*/\r\n\t\tline-height: 43rpx;\r\n\t\tfont-size: 0;\r\n\t}\r\n\r\n\t.cart-view .promotion .tag {\r\n\t\tborder: 1px solid #f48f18;\r\n\t\theight: 37rpx;\r\n\t\tline-height: 31rpx;\r\n\t\tpadding: 0 9rpx;\r\n\t\tmargin-right: 10rpx;\r\n\t\tcolor: #f48f18;\r\n\t\tfont-size: 24.5rpx;\r\n\t}\r\n\r\n\t.cart-view .promotion .txt {\r\n\t\theight: 43rpx;\r\n\t\tline-height: 43rpx;\r\n\t\tpadding-right: 10rpx;\r\n\t\tcolor: #333;\r\n\t\tfont-size: 29rpx;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.cart-view .get {\r\n\t\tmargin-top: 18rpx;\r\n\t\tfloat: right;\r\n\t\theight: 58rpx;\r\n\t\tpadding-left: 14rpx;\r\n\t\tborder-left: 1px solid #d9d9d9;\r\n\t\tline-height: 58rpx;\r\n\t\tfont-size: 29rpx;\r\n\t\tcolor: #333;\r\n\t}\r\n\r\n\t.cart-bottom {\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\theight: 100rpx;\r\n\t\twidth: 100%;\r\n\t\tbackground: #fff;\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t/* #ifdef H5 */\r\n\t.cart-bottom {\r\n\t\tposition: fixed;\r\n\t\tbottom: 100rpx;\r\n\t\tleft: 0;\r\n\t\theight: 100rpx;\r\n\t\twidth: 100%;\r\n\t\tbackground: #fff;\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t/* #endif */\r\n\r\n\t.cart-bottom .checkbox {\r\n\t\theight: 34rpx;\r\n\r\n\t\tpadding-left: 60rpx;\r\n\t\tline-height: 34rpx;\r\n\t\tmargin: 33rpx 18rpx 33rpx 26rpx;\r\n\t\tbackground: url('http://nos.netease.com/mailpub/hxm/yanxuan-wap/p/20150730/style/img/icon-normal/checkbox-0e09baa37e.png') no-repeat;\r\n\t\tbackground-size: 34rpx;\r\n\t\tfont-size: 29rpx;\r\n\t}\r\n\r\n\t.cart-bottom .checkbox.checked {\r\n\t\tbackground: url('http://nos.netease.com/mailpub/hxm/yanxuan-wap/p/20150730/style/img/icon-normal/checkbox-checked-822e54472a.png') no-repeat;\r\n\t\tbackground-size: 34rpx;\r\n\t}\r\n\r\n\t.cart-bottom .total {\r\n\t\theight: 34rpx;\r\n\t\tflex: 1;\r\n\t\tmargin: 33rpx 10rpx;\r\n\t\tfont-size: 29rpx;\r\n\t\tline-height: 34rpx;\r\n\t}\r\n\r\n\t.cart-bottom .delete {\r\n\t\theight: 34rpx;\r\n\t\twidth: auto;\r\n\t\tmargin: 33rpx 18rpx;\r\n\t\tfont-size: 29rpx;\r\n\t\tline-height: 34rpx;\r\n\t}\r\n\r\n\t.cart-bottom .checkout {\r\n\t\theight: 100rpx;\r\n\t\twidth: 210rpx;\r\n\t\ttext-align: center;\r\n\t\tline-height: 100rpx;\r\n\t\tfont-size: 29rpx;\r\n\t\tbackground: #b4282d;\r\n\t\tcolor: #fff;\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1683725795337\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}